<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.07.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>BeeeOn Server is a software platform intended for remote control of BeeeOn Gateway instances. It works as a collector of sensor data and a center for driving the elements with controllable features (turning light on/of, etc.).</p>
<p>The BeeeOn Server is written in C++ and is divided into several parts, especially:</p>
<ul>
<li>UI - the API for clients. Currently, there are two APIs supported. The older XML-UI that is maintained for backwards compatibility and the newer REST-UI.</li>
<li>GWS - the Gateway Server is used to maintain connections to BeeeOn Gateways. It receives measured sensor data and allows to drive the controllable elements.</li>
<li>Notification Infrastructure - delivers user notifications to user devices (phones, tablets, etc.).</li>
</ul>
<h2>Prerequisites</h2>
<p>Required prerequisites for development:</p>
<ul>
<li>Poco library 1.7.7+ devel</li>
<li>icu and libicu-devel</li>
<li>cppunit-devel</li>
<li>postgresql-server (9.5+)</li>
<li>python3<ul>
<li>testing.postgresql</li>
<li>http.client</li>
<li>json</li>
<li>uuid</li>
<li>unittest</li>
<li>unittest-tap-reporting</li>
</ul>
</li>
</ul>
<p>Optional prerequisites for development:</p>
<ul>
<li>jansson-devel</li>
<li>jwt-devel</li>
<li>cppzmq-devel</li>
<li>python3<ul>
<li>selenium</li>
<li>phantomjs</li>
<li>python-selenium</li>
<li>python-oauth2client</li>
</ul>
</li>
<li>sqitch</li>
<li>postgresql</li>
</ul>
<p>Required prerequisites for deployment:</p>
<ul>
<li>Poco library 1.7.7+</li>
<li>icu and libicu</li>
<li>postgresql-server (9.5+)</li>
<li>postgresql</li>
<li>sqitch</li>
</ul>
<p>Optional prerequisites for deployment:</p>
<ul>
<li>jansson</li>
<li>jwt</li>
<li>zeromq</li>
</ul>
<h2>Start hacking</h2>
<p>The BeeeOn Gateway is built by the CMake build system:</p>
<div class="fragment"><div class="line">$ mkdir build</div><div class="line">$ (cd build &amp;&amp; cmake ..)</div><div class="line">$ make -C build</div></div><!-- fragment --><p>During development and for testing, the BeeeOn Server can be started as:</p>
<div class="fragment"><div class="line">$ tools/server-testing-start.sh</div></div><!-- fragment --><p>This starts a private instance of the PostgreSQL server and then it starts the server that sets the database up.</p>
<p>There are multiple startup configurations according to the purpose of testing or debugging. The server is started either with the REST-UI or with the XML-UI:</p>
<div class="fragment"><div class="line">$ TARGET=xmlui tools/server-testing-start.sh</div><div class="line">$ TARGET=restui tools/server-testing-start.sh</div></div><!-- fragment --><p>The executable <code>beeeon-server</code> reads a startup configuration file and configuration files from conf/config.d. Then, the definition of the <em>main</em> instance (of class LoopRunner) is searched, created and executed. All main application threads start via this main instance.</p>
<h2>Integration tests</h2>
<p>The directory <code>t/</code> contains a set of integration tests. Tests are divided by the public server APIs. Thus, the XML-UI, REST-UI and GWS are tested independently on each other. All tests are written in Python. See <code>t/README</code> for details. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
