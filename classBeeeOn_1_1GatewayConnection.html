<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: BeeeOn::GatewayConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.11.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1GatewayConnection.html">GatewayConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::GatewayConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a connection with the specific gateway.  
 <a href="classBeeeOn_1_1GatewayConnection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GatewayConnection_8h_source.html">GatewayConnection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::GatewayConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1GatewayConnection.png" usemap="#BeeeOn::GatewayConnection_map" alt=""/>
  <map id="BeeeOn::GatewayConnection_map" name="BeeeOn::GatewayConnection_map">
<area href="classBeeeOn_1_1WebSocketConnection.html" alt="BeeeOn::WebSocketConnection" shape="rect" coords="100,56,291,80"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="201,0,392,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adf65801dfeb1fc8e64fc4fc7efea1bd8"><td class="memItemLeft" align="right" valign="top"><a id="adf65801dfeb1fc8e64fc4fc7efea1bd8"></a>
typedef Poco::AutoPtr&lt; <a class="el" href="classBeeeOn_1_1GatewayConnection.html">GatewayConnection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:adf65801dfeb1fc8e64fc4fc7efea1bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02eb0d90302db09ed57c38a1c57bb243"><td class="memItemLeft" align="right" valign="top"><a id="a02eb0d90302db09ed57c38a1c57bb243"></a>
typedef std::function&lt; void(GatewayConnection::Ptr)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>EnqueueReadable</b></td></tr>
<tr class="separator:a02eb0d90302db09ed57c38a1c57bb243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1WebSocketConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1WebSocketConnection')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1WebSocketConnection.html">BeeeOn::WebSocketConnection</a></td></tr>
<tr class="memitem:a61901155f44c72aeab6b7980822f8eae inherit pub_types_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a61901155f44c72aeab6b7980822f8eae"></a>
typedef Poco::AutoPtr&lt; <a class="el" href="classBeeeOn_1_1WebSocketConnection.html">WebSocketConnection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a61901155f44c72aeab6b7980822f8eae inherit pub_types_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adf8460f604c94a1e6ccdc34db2dd42fd"><td class="memItemLeft" align="right" valign="top"><a id="adf8460f604c94a1e6ccdc34db2dd42fd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GatewayConnection</b> (const <a class="el" href="classBeeeOn_1_1GatewayID.html">GatewayID</a> &amp;<a class="el" href="classBeeeOn_1_1GatewayConnection.html#a5808169b11ea177c197b6601973d0a1d">gatewayID</a>, const Poco::Net::WebSocket &amp;webSocket, GatewayRateLimiter::Ptr <a class="el" href="classBeeeOn_1_1GatewayConnection.html#a7011ad157498169f2cb013810b634ffd">rateLimiter</a>, size_t maxMessageSize)</td></tr>
<tr class="separator:adf8460f604c94a1e6ccdc34db2dd42fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5808169b11ea177c197b6601973d0a1d"><td class="memItemLeft" align="right" valign="top"><a id="a5808169b11ea177c197b6601973d0a1d"></a>
<a class="el" href="classBeeeOn_1_1GatewayID.html">GatewayID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#a5808169b11ea177c197b6601973d0a1d">gatewayID</a> () const</td></tr>
<tr class="memdesc:a5808169b11ea177c197b6601973d0a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns id of the connected gateway. <br /></td></tr>
<tr class="separator:a5808169b11ea177c197b6601973d0a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7011ad157498169f2cb013810b634ffd"><td class="memItemLeft" align="right" valign="top"><a id="a7011ad157498169f2cb013810b634ffd"></a>
GatewayRateLimiter::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#a7011ad157498169f2cb013810b634ffd">rateLimiter</a> () const</td></tr>
<tr class="memdesc:a7011ad157498169f2cb013810b634ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">rate limiter of the connection. <br /></td></tr>
<tr class="separator:a7011ad157498169f2cb013810b634ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a6aad803d45b430547ca3e17ea3b1d"><td class="memItemLeft" align="right" valign="top"><a id="a51a6aad803d45b430547ca3e17ea3b1d"></a>
Poco::Timestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#a51a6aad803d45b430547ca3e17ea3b1d">lastReceiveTime</a> () const</td></tr>
<tr class="memdesc:a51a6aad803d45b430547ca3e17ea3b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns timestamp of the last received message. <br /></td></tr>
<tr class="separator:a51a6aad803d45b430547ca3e17ea3b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb41f097684e204b3488c00407bf9b51"><td class="memItemLeft" align="right" valign="top"><a id="adb41f097684e204b3488c00407bf9b51"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#adb41f097684e204b3488c00407bf9b51">sendMessage</a> (const GWMessage::Ptr message)</td></tr>
<tr class="memdesc:adb41f097684e204b3488c00407bf9b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> to the gateway. Method is thread-safe. <br /></td></tr>
<tr class="separator:adb41f097684e204b3488c00407bf9b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5657ff2d13795c216ef084e95e6f4962"><td class="memItemLeft" align="right" valign="top"><a id="a5657ff2d13795c216ef084e95e6f4962"></a>
GWMessage::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#a5657ff2d13795c216ef084e95e6f4962">receiveMessage</a> ()</td></tr>
<tr class="memdesc:a5657ff2d13795c216ef084e95e6f4962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> and returns it. Method is not thread-safe. <br /></td></tr>
<tr class="separator:a5657ff2d13795c216ef084e95e6f4962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBeeeOn_1_1WebSocketConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBeeeOn_1_1WebSocketConnection')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBeeeOn_1_1WebSocketConnection.html">BeeeOn::WebSocketConnection</a></td></tr>
<tr class="memitem:a393b8ab1fadae834ed33a19f917c35d3 inherit pub_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a393b8ab1fadae834ed33a19f917c35d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WebSocketConnection</b> (const std::string &amp;<a class="el" href="classBeeeOn_1_1WebSocketConnection.html#a793451a130b26bb9dd2569b65b5e62b1">id</a>, const Poco::Net::WebSocket &amp;webSocket, const size_t maxFrameSize)</td></tr>
<tr class="separator:a393b8ab1fadae834ed33a19f917c35d3 inherit pub_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f823d37b01ac1de0ed152c18f8db0d inherit pub_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a11f823d37b01ac1de0ed152c18f8db0d"></a>
Poco::Net::WebSocket&#160;</td><td class="memItemRight" valign="bottom"><b>socket</b> () const</td></tr>
<tr class="separator:a11f823d37b01ac1de0ed152c18f8db0d inherit pub_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a05eb4704ac598b61b02e7ad0810209c8"><td class="memItemLeft" align="right" valign="top"><a id="a05eb4704ac598b61b02e7ad0810209c8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GatewayConnection.html#a05eb4704ac598b61b02e7ad0810209c8">handlePing</a> (const Poco::Buffer&lt; char &gt; &amp;request, size_t length) override</td></tr>
<tr class="memdesc:a05eb4704ac598b61b02e7ad0810209c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter pings by the <a class="el" href="classBeeeOn_1_1GatewayRateLimiter.html" title="GatewayRateLimiter controls the message rate per gateway. It is supposed to slow down communication i...">GatewayRateLimiter</a>. <br /></td></tr>
<tr class="separator:a05eb4704ac598b61b02e7ad0810209c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1WebSocketConnection"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1WebSocketConnection')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1WebSocketConnection.html">BeeeOn::WebSocketConnection</a></td></tr>
<tr class="memitem:a587aa46ac1600ebafd6d92cefc79f12d inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a587aa46ac1600ebafd6d92cefc79f12d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#a587aa46ac1600ebafd6d92cefc79f12d">afterConstructed</a> () const</td></tr>
<tr class="memdesc:a587aa46ac1600ebafd6d92cefc79f12d inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called by the derived class in its constructor. Inside this function it is already clear, of what type is the pointer <em>this</em>. <br /></td></tr>
<tr class="separator:a587aa46ac1600ebafd6d92cefc79f12d inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793451a130b26bb9dd2569b65b5e62b1 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#a793451a130b26bb9dd2569b65b5e62b1">id</a> () const</td></tr>
<tr class="separator:a793451a130b26bb9dd2569b65b5e62b1 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa372e8f65c7300cce3073668f6a0dc3b inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top">Poco::Nullable&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#aa372e8f65c7300cce3073668f6a0dc3b">receiveFrame</a> ()</td></tr>
<tr class="memdesc:aa372e8f65c7300cce3073668f6a0dc3b inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a frame from the associated websocket.  <a href="classBeeeOn_1_1WebSocketConnection.html#aa372e8f65c7300cce3073668f6a0dc3b">More...</a><br /></td></tr>
<tr class="separator:aa372e8f65c7300cce3073668f6a0dc3b inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de3c0576ce3d7b4f6da402df794cf41 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a0de3c0576ce3d7b4f6da402df794cf41"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#a0de3c0576ce3d7b4f6da402df794cf41">sendFrame</a> (const std::string &amp;buffer, size_t length)</td></tr>
<tr class="memdesc:a0de3c0576ce3d7b4f6da402df794cf41 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the given buffer of the given length via the associated websocket as a single frame. <br /></td></tr>
<tr class="separator:a0de3c0576ce3d7b4f6da402df794cf41 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4680fba38b9da4f8025ecb5a36e01e inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#a9b4680fba38b9da4f8025ecb5a36e01e">sendPong</a> (const Poco::Buffer&lt; char &gt; &amp;request, size_t length)</td></tr>
<tr class="memdesc:a9b4680fba38b9da4f8025ecb5a36e01e inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends back the PONG frame. Such frame must contain the same application data as it was received.  <a href="classBeeeOn_1_1WebSocketConnection.html#a9b4680fba38b9da4f8025ecb5a36e01e">More...</a><br /></td></tr>
<tr class="separator:a9b4680fba38b9da4f8025ecb5a36e01e inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d116b98a8f6f9b051d5febce5bb490 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memTemplParams" colspan="2">template&lt;typename Buf &gt; </td></tr>
<tr class="memitem:ad8d116b98a8f6f9b051d5febce5bb490 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1WebSocketConnection.html#ad8d116b98a8f6f9b051d5febce5bb490">checkBuffer</a> (const Buf &amp;buffer, size_t length) const</td></tr>
<tr class="memdesc:ad8d116b98a8f6f9b051d5febce5bb490 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the length does not overflow hte buffer.  <a href="classBeeeOn_1_1WebSocketConnection.html#ad8d116b98a8f6f9b051d5febce5bb490">More...</a><br /></td></tr>
<tr class="separator:ad8d116b98a8f6f9b051d5febce5bb490 inherit pro_methods_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ac1c68e157429df380ff3805287baaa6f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupLogger</b> (Poco::Logger *logger=0) const</td></tr>
<tr class="separator:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a689ac76b94112bc55f9f528fc54a7d40"></a>
Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b> () const</td></tr>
<tr class="separator:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a28780034cab771631dfb4db98a7954bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="aeba38a43bcc45e65dfb6455ad8ad2e1d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_static_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ae93889eade4537aea6abb3f383a8463e"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forMethod</b> (const char *name)</td></tr>
<tr class="separator:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a559c00fe671201e7ee5cebf19706491d"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a99f58cf545bb5550c42fbb75d4645c4a"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplParams" colspan="2"><a id="a9ddc275e696705f0e68a5332d2cd5960"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplItemLeft" align="right" valign="top">static Poco::Logger &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>forInstance</b> (const T *i)</td></tr>
<tr class="separator:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a5c03d407c8269d8fc9f71f0161ae17ae"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configureSimple</b> (Poco::Logger &amp;logger, const std::string &amp;level)</td></tr>
<tr class="separator:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ad5ab586b4bd8f9f97552e475a008db44"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logException</b> (Poco::Logger &amp;logger, const Poco::Message::Priority priority, const Poco::Exception &amp;e, const char *file, size_t line)</td></tr>
<tr class="separator:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classBeeeOn_1_1WebSocketConnection"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBeeeOn_1_1WebSocketConnection')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBeeeOn_1_1WebSocketConnection.html">BeeeOn::WebSocketConnection</a></td></tr>
<tr class="memitem:a8fcf1a0c192829241d260ac21d176693 inherit pro_attribs_classBeeeOn_1_1WebSocketConnection"><td class="memItemLeft" align="right" valign="top"><a id="a8fcf1a0c192829241d260ac21d176693"></a>
<a class="el" href="classBeeeOn_1_1IOStats.html">IOStats</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_stats</b></td></tr>
<tr class="separator:a8fcf1a0c192829241d260ac21d176693 inherit pro_attribs_classBeeeOn_1_1WebSocketConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a connection with the specific gateway. </p>
<p>The <a class="el" href="classBeeeOn_1_1GatewayConnection.html" title="Represents a connection with the specific gateway. ">GatewayConnection</a> is created and stored in the <a class="el" href="classBeeeOn_1_1GatewayCommunicator.html" title="GatewayCommunicator is responsible for communication with gateways connected to the server...">GatewayCommunicator</a>. It is identified by the identifier of the connected gateway. Each connection is managed by the Poco::Net::SocketReactor. The reactor notifies the system about available readable connections.</p>
<p><a class="el" href="classBeeeOn_1_1Once.html">Once</a> the connection is created it is registered as an event handler to the reactor. When the reactor detects that the connection is readable, the connection is unregistered from the reactor, it is queued and worker threads from the thread pool of the <a class="el" href="classBeeeOn_1_1GatewayCommunicator.html" title="GatewayCommunicator is responsible for communication with gateways connected to the server...">GatewayCommunicator</a> read <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> from it. The worker then register the connection back to the reactor and handle received message.</p>
<p>Other parts of the system can access the <a class="el" href="classBeeeOn_1_1GatewayConnection.html" title="Represents a connection with the specific gateway. ">GatewayConnection</a> through the <a class="el" href="classBeeeOn_1_1GatewayCommunicator.html" title="GatewayCommunicator is responsible for communication with gateways connected to the server...">GatewayCommunicator</a> and send <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> to the gateway.</p>
<p>The connection is destroyed, if:</p><ul>
<li>socket is closed or broken</li>
<li>received message is invalid (unknown message type, missing field, etc.)</li>
<li>new connection with the same id (socket incorrectly closed and gateway reconnected)</li>
<li>connection is considered inactive (the response to the request has not arrived within the timeout and in the meantime no other message came from the gateway.) </li>
</ul>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/jviki/Projects/BeeeOn/server/src/gws/<a class="el" href="GatewayConnection_8h_source.html">GatewayConnection.h</a></li>
<li>/home/jviki/Projects/BeeeOn/server/src/gws/GatewayConnection.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
