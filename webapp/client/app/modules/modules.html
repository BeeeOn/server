<div flex layout="column" class="modulesWrapper" layout-fill>
    <!-- Navigation bar-->
    <div ng-include="'components/navbar/navbar.html'"></div>
    <!-- App center-->
    <div layout="row" flex>
        <!-- Menu (left side navigation)-->
        <div ng-include="'components/menu/menu.html'" layout="column" class="grayBackground"></div>
        <!-- Center -->
        <md-content flex class="grayBackground modulesContent" layout="column" layout-align="top center" scroll="hideOnScroll">
            <div class="md-whiteframe-z2 whiteBackground " layout="column" layout-fill>
                <!-- EMPTY MODULES -->
                <div flex ng-show="!showList()" layout="column">
                    <div flex layout="column" layout-align="center center" class="emptyOverviewModulesWrapper whiteBackground md-whiteframe-z2">
                        <h3>{{ 'MODULES.NO_MODULES' | translate}}</h3>
                        <md-button class="refreshBtn" ng-click="refreshList()">{{ 'MODULES.BTNS.REFRESH_LIST' | translate}}</md-button>
                    </div>
                </div>
                <!-- END EMPTY MODULES -->
                <!-- MODULES -->
                <div flex ng-show="showList()" layout="column" layout-fill>
                    <md-content>
                        <modules-list locations="locations" devices="devices"></modules-list>
                    </md-content>
                </div>
                <!-- END MODULES -->
                <md-fab-speed-dial md-open="addFABisOpen" md-direction="up"
                                   ng-class="md-scale" class="md-primary md-fab-bottom-right" ng-hide="hideOnScroll">
                    <md-fab-trigger>
                        <md-button aria-label="menu" class="md-fab md-accent">
                            <md-icon md-svg-src="add"></md-icon>
                        </md-button>
                    </md-fab-trigger>
                    <md-fab-actions>
                        <md-button ng-click="showAddGatewayModal()" aria-label="{{ 'MODULES.BTNS.ADD_GATEWAY' | translate}}" class="md-fab md-raised md-mini md-accent">
                            <md-tooltip md-direction="left" md-visible="addFABisOpen" md-autohide="false">
                                {{ 'MODULES.BTNS.ADD_GATEWAY' | translate}}
                            </md-tooltip>
                            <md-icon md-svg-src="add"></md-icon>
                        </md-button>
                        <md-button ng-if="showAddModuleBtn" aria-label="{{ 'MODULES.BTNS.ADD_MODULE' | translate}}" class="md-fab md-raised md-mini md-accent">
                            <md-tooltip ng-show="showAddModuleBtn" md-direction="left" md-visible="addFABisOpen" md-autohide="false">
                                {{ 'MODULES.BTNS.ADD_MODULE' | translate}}
                            </md-tooltip>
                            <md-icon md-svg-src="add"></md-icon>
                        </md-button>
                    </md-fab-actions>
                </md-fab-speed-dial>
            </div>
        </md-content>
        <!-- Detail (right side navigation)-->
        <right-panel layout="column" options="rightPanelOptions" class="mainRightPanel">
            <div ui-view="right" layout-fill>

            </div>
        </right-panel>
    </div>
</div>
