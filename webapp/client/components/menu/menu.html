<!-- Left Menu panel. Locked on large screens, hiddable otherwise-->
<md-sidenav flex class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-lg')" >
    <!-- toolbar with menu hide button hidden on large screen, because menu is locked (not hiddable)-->
    <md-toolbar hide-gt-lg>
        <div class="md-toolbar-tools">
            <location-button options="{location: 'BeeeOn' ,type:'panel_close_left',hideBtn: false}" class="navbarLocationPanel"></location-button>
        </div>
    </md-toolbar>
    <div layout="column" ng-controller="MenuCtrl">
        <!-- User info panel-->
        <div layout="row" layout-align="space-around center" class="menuUserPanel"  md-swipe-left="onSwipeLeft()">
            <md-list-item class="md-2-line" layout="row" layout-align="start center">
                <!-- avatar -->
                <img ng-src="{{avatar}}" class="md-avatar" alt="" />
                <!-- full name and email -->
                <div class="md-list-item-text">
                    <h3 class="md-body-2 md-title">{{user.name}} {{user.surname}}</h3>
                    <p class="">{{user.email}}</p>
                </div>
            </md-list-item>
        </div>
        <!-- menu content -->
        <md-content md-swipe-left="onSwipeLeft()" class="menuContent">
            <!-- gateways -->
            <md-list>
                <div layout="row" layout-align="space-between center">
                    <md-subheader class="md-no-sticky">Gateways</md-subheader>
                    <md-button ng-click="changeLocation('overview.description')" class="gatewaySettings md-icon-button">
                        <md-icon
                                class=" md-primary"
                                ng-show="selectedGateway"
                                md-svg-icon="description"
                                aria-label="Selected gateway settings"
                                >
                            <md-tooltip md-direction="right">Show description for selected gateway</md-tooltip>
                        </md-icon>
                    </md-button>
                </div>

                <gateway-button ></gateway-button>
            </md-list>
            <md-divider></md-divider>
            <!-- Management-->
            <md-subheader class="md-no-sticky">Management</md-subheader>
            <md-list class="menuButtons">
                <md-list-item
                        ng-repeat="place in management"
                        ng-if="place.enabled"
                        ng-click="changeLocation(place.link)"
                        flex md-no-ink aria-label="{{place.title}}"
                        ng-class="{selected:  place.link.split('.')[0].match(currentLocation.split('.')[0])}">
                    <div layout="row" layout-align="start center">
                        <img class="menuButtonIcon" alt="{{ place.title }}" ng-src="{{place.link.match(currentLocation) && place.img[1] || place.img[0]}}"/>
                        <p>{{ place.title }}</p>
                    </div>
                </md-list-item>
            </md-list>
            <md-divider></md-divider>
            <!-- Applications -->
            <md-subheader class="md-no-sticky">Applications</md-subheader>
            <md-list class="menuButtons">
                <md-list-item
                        ng-repeat="place in applications"
                        ng-click="changeLocation(place.link)"
                        flex md-no-ink aria-label="{{place.title}}"
                        ng-class="{selected:  place.link.match(currentLocation)}">
                    <div layout="row" layout-align="start center">
                        <img class="menuButtonIcon" alt="{{ place.title }}" ng-src="{{place.link.split('.')[0].match(currentLocation.split('.')[0]) && place.img[1] || place.img[0]}}"/>
                        <p>{{ place.title }}</p>
                    </div>
                </md-list-item>
            </md-list>
            <md-divider></md-divider>
            <!-- Other -->
            <md-list class="menuButtons">
                <md-list-item
                        ng-repeat="place in default"
                        ng-click="changeLocation(place.link)"
                        flex md-no-ink aria-label="{{place.title}}"
                        ng-class="{selected:  currentLocation.match(place.link)}">
                    <div layout="row" layout-align="start center">
                        <p>{{place.title}}</p>
                    </div>
                </md-list-item>
            </md-list>
        </md-content>
    </div>
</md-sidenav>
