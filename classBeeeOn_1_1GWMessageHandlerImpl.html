<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: BeeeOn::GWMessageHandlerImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.07.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1GWMessageHandlerImpl.html">GWMessageHandlerImpl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::GWMessageHandlerImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides an implementation of the <a class="el" href="classBeeeOn_1_1GWMessageHandler.html" title="GWMessageHandler is responsible for handling incoming GWMessage. ">GWMessageHandler</a>. It handles <a class="el" href="classBeeeOn_1_1GWRequest.html" title="Abstract class representing a request message. The GWRequest can not be used alone, but it must be inherited by a specific request object. ">GWRequest</a>, <a class="el" href="classBeeeOn_1_1GWResponse.html" title="Represents a response to a request message (subclass of a GWRequest). The GWResponse can be used alon...">GWResponse</a> or <a class="el" href="classBeeeOn_1_1GWSensorDataExport.html" title="Represents a message sent by the gateway to the server intended to export measured sensor data...">GWSensorDataExport</a>.  
 <a href="classBeeeOn_1_1GWMessageHandlerImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GWMessageHandlerImpl_8h_source.html">GWMessageHandlerImpl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::GWMessageHandlerImpl:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1GWMessageHandlerImpl.png" usemap="#BeeeOn::GWMessageHandlerImpl_map" alt=""/>
  <map id="BeeeOn::GWMessageHandlerImpl_map" name="BeeeOn::GWMessageHandlerImpl_map">
<area href="classBeeeOn_1_1GWMessageHandler.html" title="GWMessageHandler is responsible for handling incoming GWMessage. " alt="BeeeOn::GWMessageHandler" shape="rect" coords="0,0,202,24"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="212,0,414,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7675739ba87cdd3527aec95bb3d26569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWMessageHandlerImpl.html#a7675739ba87cdd3527aec95bb3d26569">handle</a> (const GWMessage::Ptr message, const <a class="el" href="classBeeeOn_1_1GatewayID.html">GatewayID</a> &amp;gatewayID) override</td></tr>
<tr class="memdesc:a7675739ba87cdd3527aec95bb3d26569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> from the given gateway.  <a href="#a7675739ba87cdd3527aec95bb3d26569">More...</a><br /></td></tr>
<tr class="separator:a7675739ba87cdd3527aec95bb3d26569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c3b98f10cf2fc92132e9075a4d35c6"><td class="memItemLeft" align="right" valign="top"><a id="ac6c3b98f10cf2fc92132e9075a4d35c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setGatewayCommunicator</b> (GatewayCommunicator::Ptr communicator)</td></tr>
<tr class="separator:ac6c3b98f10cf2fc92132e9075a4d35c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4736fc8af5f0869d60bd76e4332406bf"><td class="memItemLeft" align="right" valign="top"><a id="a4736fc8af5f0869d60bd76e4332406bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setGWResponseExpectedQueue</b> (GWResponseExpectedQueue::Ptr queue)</td></tr>
<tr class="separator:a4736fc8af5f0869d60bd76e4332406bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861659dd03192d2e36a59322c949e750"><td class="memItemLeft" align="right" valign="top"><a id="a861659dd03192d2e36a59322c949e750"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRPCForwarder</b> (RPCForwarder::Ptr forwarder)</td></tr>
<tr class="separator:a861659dd03192d2e36a59322c949e750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af299e1304ccd0a7b9de96fb363da8b06"><td class="memItemLeft" align="right" valign="top"><a id="af299e1304ccd0a7b9de96fb363da8b06"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setDeviceService</b> (GWSDeviceService::Ptr service)</td></tr>
<tr class="separator:af299e1304ccd0a7b9de96fb363da8b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68dfdf9ff742204f163ee5e48772711d"><td class="memItemLeft" align="right" valign="top"><a id="a68dfdf9ff742204f163ee5e48772711d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSensorHistoryService</b> (GWSSensorHistoryService::Ptr service)</td></tr>
<tr class="separator:a68dfdf9ff742204f163ee5e48772711d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a54db6c8d5378f0d880f05fd893631c"><td class="memItemLeft" align="right" valign="top"><a id="a9a54db6c8d5378f0d880f05fd893631c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>registerDataListener</b> (SensorDataListener::Ptr listener)</td></tr>
<tr class="separator:a9a54db6c8d5378f0d880f05fd893631c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bd5503874952024fedbc0d6ed1e8d7"><td class="memItemLeft" align="right" valign="top"><a id="a76bd5503874952024fedbc0d6ed1e8d7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>registerDeviceListener</b> (DeviceListener::Ptr listener)</td></tr>
<tr class="separator:a76bd5503874952024fedbc0d6ed1e8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82555bc94aeaee28fbfdad45953dca63"><td class="memItemLeft" align="right" valign="top"><a id="a82555bc94aeaee28fbfdad45953dca63"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setEventsExecutor</b> (AsyncExecutor::Ptr executor)</td></tr>
<tr class="separator:a82555bc94aeaee28fbfdad45953dca63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55068b8f83674493059b6a67aaa6a2c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWMessageHandlerImpl.html#a55068b8f83674493059b6a67aaa6a2c6">cleanup</a> ()</td></tr>
<tr class="separator:a55068b8f83674493059b6a67aaa6a2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1GWMessageHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1GWMessageHandler')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1GWMessageHandler.html">BeeeOn::GWMessageHandler</a></td></tr>
<tr class="memitem:a61a7977a3e1d24d068eeb966d9afeb25 inherit pub_types_classBeeeOn_1_1GWMessageHandler"><td class="memItemLeft" align="right" valign="top"><a id="a61a7977a3e1d24d068eeb966d9afeb25"></a>
typedef Poco::SharedPtr&lt; <a class="el" href="classBeeeOn_1_1GWMessageHandler.html">GWMessageHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a61a7977a3e1d24d068eeb966d9afeb25 inherit pub_types_classBeeeOn_1_1GWMessageHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ac1c68e157429df380ff3805287baaa6f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupLogger</b> (Poco::Logger *logger=0) const</td></tr>
<tr class="separator:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a689ac76b94112bc55f9f528fc54a7d40"></a>
Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b> () const</td></tr>
<tr class="separator:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a28780034cab771631dfb4db98a7954bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="aeba38a43bcc45e65dfb6455ad8ad2e1d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ae93889eade4537aea6abb3f383a8463e"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forMethod</b> (const char *name)</td></tr>
<tr class="separator:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a559c00fe671201e7ee5cebf19706491d"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a99f58cf545bb5550c42fbb75d4645c4a"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplParams" colspan="2"><a id="a9ddc275e696705f0e68a5332d2cd5960"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplItemLeft" align="right" valign="top">static Poco::Logger &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>forInstance</b> (const T *i)</td></tr>
<tr class="separator:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a5c03d407c8269d8fc9f71f0161ae17ae"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configureSimple</b> (Poco::Logger &amp;logger, const std::string &amp;level)</td></tr>
<tr class="separator:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ad5ab586b4bd8f9f97552e475a008db44"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logException</b> (Poco::Logger &amp;logger, const Poco::Message::Priority priority, const Poco::Exception &amp;e, const char *file, size_t line)</td></tr>
<tr class="separator:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides an implementation of the <a class="el" href="classBeeeOn_1_1GWMessageHandler.html" title="GWMessageHandler is responsible for handling incoming GWMessage. ">GWMessageHandler</a>. It handles <a class="el" href="classBeeeOn_1_1GWRequest.html" title="Abstract class representing a request message. The GWRequest can not be used alone, but it must be inherited by a specific request object. ">GWRequest</a>, <a class="el" href="classBeeeOn_1_1GWResponse.html" title="Represents a response to a request message (subclass of a GWRequest). The GWResponse can be used alon...">GWResponse</a> or <a class="el" href="classBeeeOn_1_1GWSensorDataExport.html" title="Represents a message sent by the gateway to the server intended to export measured sensor data...">GWSensorDataExport</a>. </p>
<p>The purpose of the <a class="el" href="classBeeeOn_1_1GWMessageHandlerImpl.html" title="Provides an implementation of the GWMessageHandler. It handles GWRequest, GWResponse or GWSensorDataE...">GWMessageHandlerImpl</a> is to handle requests coming from a BeeeOn <a class="el" href="classBeeeOn_1_1Gateway.html">Gateway</a> and reply responses or acknowladges. The handling logic is however defered into the service layer. Thus, the main responsibility here is to ensure that responses and acknowladges are properly send and deliver (in best-effort) to the originating gateway. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a55068b8f83674493059b6a67aaa6a2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55068b8f83674493059b6a67aaa6a2c6">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GWMessageHandlerImpl::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Break dependency cycles prior destruction. </p>

</div>
</div>
<a id="a7675739ba87cdd3527aec95bb3d26569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7675739ba87cdd3527aec95bb3d26569">&#9670;&nbsp;</a></span>handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GWMessageHandlerImpl::handle </td>
          <td>(</td>
          <td class="paramtype">const GWMessage::Ptr&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBeeeOn_1_1GatewayID.html">GatewayID</a> &amp;&#160;</td>
          <td class="paramname"><em>gatewayID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles <a class="el" href="classBeeeOn_1_1GWMessage.html" title="The GWMessage is abstract class representing messages (including their contents), that are being sent...">GWMessage</a> from the given gateway. </p>
<p>Throw exception in case of invalid message or some other error, that can not be handled in the <a class="el" href="classBeeeOn_1_1GWMessageHandler.html" title="GWMessageHandler is responsible for handling incoming GWMessage. ">GWMessageHandler</a>. </p>

<p>Implements <a class="el" href="classBeeeOn_1_1GWMessageHandler.html#a113e258689e8c6a90562958bd47a60d1">BeeeOn::GWMessageHandler</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/jviki/Projects/BeeeOn/server/src/gws/<a class="el" href="GWMessageHandlerImpl_8h_source.html">GWMessageHandlerImpl.h</a></li>
<li>/home/jviki/Projects/BeeeOn/server/src/gws/GWMessageHandlerImpl.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
