<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: REST UI API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.11.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">REST UI API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#restui_api_introduction">Introduction</a></li>
<li class="level1"><a href="#restui_api_response">Responses</a></li>
<li class="level1"><a href="#types_list">GET /types</a><ul><li class="level2"><a href="#types_list_request">Request</a></li>
<li class="level2"><a href="#types_list_response">Response</a></li>
<li class="level2"><a href="#types_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#types_detail">GET /types/$type_id</a><ul><li class="level2"><a href="#types_detail_request">Request</a></li>
<li class="level2"><a href="#types_detail_response">Response</a></li>
<li class="level2"><a href="#types_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#types_detail_subtype">GET /types/$type/$subtype_id</a><ul><li class="level2"><a href="#types_detail_subtype_request">Request</a></li>
<li class="level2"><a href="#types_detail_subtype_response">Response</a></li>
<li class="level2"><a href="#types_detail_subtype_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#profiles_current">GET /profiles/current</a><ul><li class="level2"><a href="#profiles_current_request">Request</a></li>
<li class="level2"><a href="#profiles_current_response">Response</a></li>
<li class="level2"><a href="#profiles_current_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#profiles_detail">GET /profiles/$profile_id</a><ul><li class="level2"><a href="#profiles_detail_request">Request</a></li>
<li class="level2"><a href="#profiles_detail_response">Response</a></li>
<li class="level2"><a href="#profiles_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#profiles_list">GET /profiles</a><ul><li class="level2"><a href="#profiles_list_request">Request</a></li>
<li class="level2"><a href="#profiles_list_response">Response</a></li>
<li class="level2"><a href="#profiles_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#oauth2callback_callback">GET /oauth2callback</a><ul><li class="level2"><a href="#oauth2callback_callback_request">Request</a></li>
<li class="level2"><a href="#oauth2callback_callback_response">Response</a></li>
<li class="level2"><a href="#oauth2callback_callback_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_list">GET /gateways/$gateway_id/devices</a><ul><li class="level2"><a href="#devices_list_request">Request</a></li>
<li class="level2"><a href="#devices_list_response">Response</a></li>
<li class="level2"><a href="#devices_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_detail">GET /gateways/$gateway_id/devices/$device_id</a><ul><li class="level2"><a href="#devices_detail_request">Request</a></li>
<li class="level2"><a href="#devices_detail_response">Response</a></li>
<li class="level2"><a href="#devices_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_update">PUT /gateways/$gateway_id/devices/$device_id</a><ul><li class="level2"><a href="#devices_update_request">Request</a></li>
<li class="level2"><a href="#devices_update_response">Response</a></li>
<li class="level2"><a href="#devices_update_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_discover">POST /gateways/$gateway_id/discovery</a><ul><li class="level2"><a href="#devices_discover_request">Request</a></li>
<li class="level2"><a href="#devices_discover_response">Response</a></li>
<li class="level2"><a href="#devices_discover_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_discoverStatus">GET /gateways/$gateway_id/discovery</a><ul><li class="level2"><a href="#devices_discoverStatus_request">Request</a></li>
<li class="level2"><a href="#devices_discoverStatus_response">Response</a></li>
<li class="level2"><a href="#devices_discoverStatus_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#devices_unpair">DELETE /gateways/$gateway_id/devices/$device_id</a><ul><li class="level2"><a href="#devices_unpair_request">Request</a></li>
<li class="level2"><a href="#devices_unpair_response">Response</a></li>
<li class="level2"><a href="#devices_unpair_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#notifications_list_services">GET /notifications</a><ul><li class="level2"><a href="#notifications_list_services_request">Request</a></li>
<li class="level2"><a href="#notifications_list_services_response">Response</a></li>
<li class="level2"><a href="#notifications_list_services_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#notifications_register">POST /notifications/fcm</a><ul><li class="level2"><a href="#notifications_register_request">Request</a></li>
<li class="level2"><a href="#notifications_register_response">Response</a></li>
<li class="level2"><a href="#notifications_register_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#notifications_unregister">DELETE /notifications/fcm/$token</a><ul><li class="level2"><a href="#notifications_unregister_request">Request</a></li>
<li class="level2"><a href="#notifications_unregister_response">Response</a></li>
<li class="level2"><a href="#notifications_unregister_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#sensors_list">GET /gateways/$gateway_id/devices/$device_id/sensors</a><ul><li class="level2"><a href="#sensors_list_request">Request</a></li>
<li class="level2"><a href="#sensors_list_response">Response</a></li>
<li class="level2"><a href="#sensors_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#sensors_detail">GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id</a><ul><li class="level2"><a href="#sensors_detail_request">Request</a></li>
<li class="level2"><a href="#sensors_detail_response">Response</a></li>
<li class="level2"><a href="#sensors_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#sensors_current">GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id/current</a><ul><li class="level2"><a href="#sensors_current_request">Request</a></li>
<li class="level2"><a href="#sensors_current_response">Response</a></li>
<li class="level2"><a href="#sensors_current_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#sensors_history">GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id/history</a><ul><li class="level2"><a href="#sensors_history_request">Request</a></li>
<li class="level2"><a href="#sensors_history_response">Response</a></li>
<li class="level2"><a href="#sensors_history_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_keys">GET /gateways/devices/properties/keys</a><ul><li class="level2"><a href="#device_properties_keys_request">Request</a></li>
<li class="level2"><a href="#device_properties_keys_response">Response</a></li>
<li class="level2"><a href="#device_properties_keys_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_list">GET /gateways/$gateway_id/devices/$device_id/properties</a><ul><li class="level2"><a href="#device_properties_list_request">Request</a></li>
<li class="level2"><a href="#device_properties_list_response">Response</a></li>
<li class="level2"><a href="#device_properties_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_detail">GET /gateways/$gateway_id/devices/$device_id/properties/$key</a><ul><li class="level2"><a href="#device_properties_detail_request">Request</a></li>
<li class="level2"><a href="#device_properties_detail_response">Response</a></li>
<li class="level2"><a href="#device_properties_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_create">POST /gateways/$gateway_id/devices/$device_id/properties/$key</a><ul><li class="level2"><a href="#device_properties_create_request">Request</a></li>
<li class="level2"><a href="#device_properties_create_response">Response</a></li>
<li class="level2"><a href="#device_properties_create_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_update">PUT /gateways/$gateway_id/devices/$device_id/properties/$key</a><ul><li class="level2"><a href="#device_properties_update_request">Request</a></li>
<li class="level2"><a href="#device_properties_update_response">Response</a></li>
<li class="level2"><a href="#device_properties_update_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#device_properties_remove">DELETE /gateways/$gateway_id/devices/$device_id/properties/$key</a><ul><li class="level2"><a href="#device_properties_remove_request">Request</a></li>
<li class="level2"><a href="#device_properties_remove_response">Response</a></li>
<li class="level2"><a href="#device_properties_remove_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#locations_list">GET /gateways/$gateway_id/locations</a><ul><li class="level2"><a href="#locations_list_request">Request</a></li>
<li class="level2"><a href="#locations_list_response">Response</a></li>
<li class="level2"><a href="#locations_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#locations_detail">GET /gateways/$gateway_id/locations/$location_id</a><ul><li class="level2"><a href="#locations_detail_request">Request</a></li>
<li class="level2"><a href="#locations_detail_response">Response</a></li>
<li class="level2"><a href="#locations_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#locations_create">POST /gateways/$gateway_id/locations</a><ul><li class="level2"><a href="#locations_create_request">Request</a></li>
<li class="level2"><a href="#locations_create_response">Response</a></li>
<li class="level2"><a href="#locations_create_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#locations_update">PUT /gateways/$gateway_id/locations/$location_id</a><ul><li class="level2"><a href="#locations_update_request">Request</a></li>
<li class="level2"><a href="#locations_update_response">Response</a></li>
<li class="level2"><a href="#locations_update_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#locations_delete">DELETE /gateways/$gateway_id/locations/$location_id</a><ul><li class="level2"><a href="#locations_delete_request">Request</a></li>
<li class="level2"><a href="#locations_delete_response">Response</a></li>
<li class="level2"><a href="#locations_delete_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateways_list">GET /gateways</a><ul><li class="level2"><a href="#gateways_list_request">Request</a></li>
<li class="level2"><a href="#gateways_list_response">Response</a></li>
<li class="level2"><a href="#gateways_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateways_detail">GET /gateways/$gatewayId</a><ul><li class="level2"><a href="#gateways_detail_request">Request</a></li>
<li class="level2"><a href="#gateways_detail_response">Response</a></li>
<li class="level2"><a href="#gateways_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateways_update">PUT /gateways/$gatewayId</a><ul><li class="level2"><a href="#gateways_update_request">Request</a></li>
<li class="level2"><a href="#gateways_update_response">Response</a></li>
<li class="level2"><a href="#gateways_update_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateways_assign">POST /gateways</a><ul><li class="level2"><a href="#gateways_assign_request">Request</a></li>
<li class="level2"><a href="#gateways_assign_response">Response</a></li>
<li class="level2"><a href="#gateways_assign_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateways_unassign">DELETE /gateways/$gatewayId</a><ul><li class="level2"><a href="#gateways_unassign_request">Request</a></li>
<li class="level2"><a href="#gateways_unassign_response">Response</a></li>
<li class="level2"><a href="#gateways_unassign_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#time_zones_list">GET /time/zones</a><ul><li class="level2"><a href="#time_zones_list_request">Request</a></li>
<li class="level2"><a href="#time_zones_list_response">Response</a></li>
<li class="level2"><a href="#time_zones_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#time_zones_detail">GET /time/zones/$id</a><ul><li class="level2"><a href="#time_zones_detail_request">Request</a></li>
<li class="level2"><a href="#time_zones_detail_response">Response</a></li>
<li class="level2"><a href="#time_zones_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#time_zones_detail_pair">GET /time/zones/$continent/$city</a><ul><li class="level2"><a href="#time_zones_detail_pair_request">Request</a></li>
<li class="level2"><a href="#time_zones_detail_pair_response">Response</a></li>
<li class="level2"><a href="#time_zones_detail_pair_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#controls_list">GET /gateways/$gateway_id/devices/$device_id/controls</a><ul><li class="level2"><a href="#controls_list_request">Request</a></li>
<li class="level2"><a href="#controls_list_response">Response</a></li>
<li class="level2"><a href="#controls_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#controls_detail">GET /gateways/$gateway_id/devices/$device_id/controls/$control_id</a><ul><li class="level2"><a href="#controls_detail_request">Request</a></li>
<li class="level2"><a href="#controls_detail_response">Response</a></li>
<li class="level2"><a href="#controls_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#controls_current">GET /gateways/$gateway_id/devices/$device_id/controls/$control_id/current</a><ul><li class="level2"><a href="#controls_current_request">Request</a></li>
<li class="level2"><a href="#controls_current_response">Response</a></li>
<li class="level2"><a href="#controls_current_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#controls_request_change">POST /gateways/$gateway_id/devices/$device_id/controls/$control_id/current</a><ul><li class="level2"><a href="#controls_request_change_request">Request</a></li>
<li class="level2"><a href="#controls_request_change_response">Response</a></li>
<li class="level2"><a href="#controls_request_change_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateway_messages_list">GET /gateways/$gateway_id/messages</a><ul><li class="level2"><a href="#gateway_messages_list_request">Request</a></li>
<li class="level2"><a href="#gateway_messages_list_response">Response</a></li>
<li class="level2"><a href="#gateway_messages_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateway_messages_detail">GET /gateways/$gateway_id/messages/$id</a><ul><li class="level2"><a href="#gateway_messages_detail_request">Request</a></li>
<li class="level2"><a href="#gateway_messages_detail_response">Response</a></li>
<li class="level2"><a href="#gateway_messages_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#gateway_messages_remove">DELETE /gateways/$gateway_id/messages/$id</a><ul><li class="level2"><a href="#gateway_messages_remove_request">Request</a></li>
<li class="level2"><a href="#gateway_messages_remove_response">Response</a></li>
<li class="level2"><a href="#gateway_messages_remove_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_list">GET /gateways/$gateway_id/roles</a><ul><li class="level2"><a href="#roles_list_request">Request</a></li>
<li class="level2"><a href="#roles_list_response">Response</a></li>
<li class="level2"><a href="#roles_list_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_current">GET /gateways/$gateway_id/roles/current</a><ul><li class="level2"><a href="#roles_current_request">Request</a></li>
<li class="level2"><a href="#roles_current_response">Response</a></li>
<li class="level2"><a href="#roles_current_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_detail">GET /gateways/$gateway_id/roles/$role_id</a><ul><li class="level2"><a href="#roles_detail_request">Request</a></li>
<li class="level2"><a href="#roles_detail_response">Response</a></li>
<li class="level2"><a href="#roles_detail_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_create">POST /gateways/$gateway_id/roles</a><ul><li class="level2"><a href="#roles_create_request">Request</a></li>
<li class="level2"><a href="#roles_create_response">Response</a></li>
<li class="level2"><a href="#roles_create_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_update">PUT /gateways/$gateway_id/roles/$role_id</a><ul><li class="level2"><a href="#roles_update_request">Request</a></li>
<li class="level2"><a href="#roles_update_response">Response</a></li>
<li class="level2"><a href="#roles_update_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#roles_delete">DELETE /gateways/$gateway_id/roles/$role_id</a><ul><li class="level2"><a href="#roles_delete_request">Request</a></li>
<li class="level2"><a href="#roles_delete_response">Response</a></li>
<li class="level2"><a href="#roles_delete_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#builtin_unauthorized">GET builtin.unauthorized (internal)</a><ul><li class="level2"><a href="#builtin_unauthorized_request">Request</a></li>
<li class="level2"><a href="#builtin_unauthorized_response">Response</a></li>
<li class="level2"><a href="#builtin_unauthorized_details">Details</a></li>
</ul>
</li>
<li class="level1"><a href="#builtin_noroute">GET builtin.noroute (internal)</a><ul><li class="level2"><a href="#builtin_noroute_request">Request</a></li>
<li class="level2"><a href="#builtin_noroute_response">Response</a></li>
<li class="level2"><a href="#builtin_noroute_details">Details</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="restui_api_introduction"></a>
Introduction</h1>
<p>The REST-UI API is intended for gateway management. Each registered user can associate or be associated with a number of gateways. The association is always attributed by a permission level (admin, user, guest). Based on the permissions, a user can do basically the following actions:</p>
<ul>
<li>register new devices with the gateway,</li>
<li>see measured data from a device,</li>
<li>change status of controllable devices (lights on/off, etc.),</li>
<li>invite other users to use certain gateways.</li>
</ul>
<h1><a class="anchor" id="restui_api_response"></a>
Responses</h1>
<p>Each response contains a JSON object payload having common entries:</p>
<ul>
<li>"code" - holds the HTTP response code, usually 200</li>
<li>"status" - "success", "error" or "fail"</li>
<li>"message" - short localized message describing the error or fail</li>
<li>"data" - object or array with result of the request</li>
</ul>
<p>An example successful response would look like: </p><pre>
{
  "code": 200,
  "status": "success",
  "data": {...}
}
</pre><p>An example error response would look like: </p><pre>
{
  "code": 404,
  "status": "error",
  "message": "no such entity found"
}
</pre><h1><a class="anchor" id="types_list"></a>
GET /types</h1>
<p>List all data types that can be used by sensoric devices.</p>
<h2><a class="anchor" id="types_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="types_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="types_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "temperature",
    "name": "temperature",
    "unit": "C",
  },
  {
    "id": "battery",
    "name": "battery",
    "unit": "%"
    "levels": [
      {
        "name": "critical",
        "min": "0",
        "max": "10",
        "attention": "single",
      }
    ]
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TypeRestHandler.html#afcd56fd693857dd3383e9a45b86243e1" title="List all data types that can be used by sensoric devices. ">BeeeOn::RestUI::TypeRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="types_detail"></a>
GET /types/$type_id</h1>
<p>Show detail of a sensoric type identified by its unique ID.</p>
<h2><a class="anchor" id="types_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="types_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="types_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "fire",
  "name": "fire",
  "values": {
    "0": "no fire",
    "1": "fire detected"
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TypeRestHandler.html#a39062238b0b7093cb436b9ecfc147b99" title="Show detail of a sensoric type identified by its unique ID. ">BeeeOn::RestUI::TypeRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="types_detail_subtype"></a>
GET /types/$type/$subtype_id</h1>
<p>Show detail a subtype that specifies more details of its type.</p>
<h2><a class="anchor" id="types_detail_subtype_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="types_detail_subtype_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="types_detail_subtype_details"></a>
Details</h2>
<p>A subtype extends definitions of types <code>enum</code> and <code>bitmap</code>. In this way, it is possible to express and understand vendor-specific data of certain sensors.</p>
<p>Subtypes of enum define fields <em>id</em>, <em>name</em> and <em>values</em>. The <em>values</em> entry lists the particular enum values and their mappings to the values as could be get by requesting a sensor history.</p>
<p>Subtypes of bitmap define fields <em>id</em>, <em>name</em>, <em>flags</em> and <em>groups</em>. Only one or both of <em>flags</em> and <em>groups</em> can be present. The <em>flags</em> structure specifies mapping of certain bits to their semantics. The <em>groups</em> array specifies mapping of certain bits into groups that make sense only all together (e.g. scattered error bits).</p>
<ul>
<li>usual responses: 200, 404</li>
<li>example enum output (data): <pre>
{
  "id": "MOD_BOILER_STATUS",
  "name": "boiler status",
  "values": {
    "0": "undefined",
    "1": "heating",
    "2": "hot water",
    "3": "failure",
    "4": "shutdown",
  }
}
</pre></li>
<li>example bitmap flags output: <pre>
{
  "id": "MOD_CURRENT_BOILER_OT_FAULT_FLAGS",
  "name": "OpenTherm fault flags",
  "flags": {
    "0": {
      "name": "service request",
      "active": "high",
    },
    "1": {
      "name": "lockout reset",
      "active": "high",
    },
    ...
  }
}
</pre></li>
<li>example bitmap groups output (bits 0, 1, 2, 4, 6, 7 are to be extracted to form a single number - e.g. sensor value 0xca would be transformed into 0x32 to contain only the significant bits): <pre>
{
  "id": "MOD_CURRENT_BOILER_OT_OEM_FAULTS",
  "name": "OpenTherm faults",
  "groups": [
    {
      "mapping": [0, 1, 2, 4, 6, 7],
      "name": "OEM specific",
    }
  ]
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TypeRestHandler.html#a6915ad9d6975d026c983ab340d718269" title="Show detail a subtype that specifies more details of its type. ">BeeeOn::RestUI::TypeRestHandler::detailSubtype(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="profiles_current"></a>
GET /profiles/current</h1>
<p>Redirect to detail of the current profile.</p>
<h2><a class="anchor" id="profiles_current_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="profiles_current_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="profiles_current_details"></a>
Details</h2>
<ul>
<li>Location: {PROFILE_CURRENT_DETAIL}</li>
<li>usual responses: 303 <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ProfileRestHandler.html#a78f3369628e609ae05c0e190b14b47eb" title="Redirect to detail of the current profile. ">BeeeOn::RestUI::ProfileRestHandler::current(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="profiles_detail"></a>
GET /profiles/$profile_id</h1>
<p>Show details of a profiles given by ID.</p>
<h2><a class="anchor" id="profiles_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="profiles_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="profiles_detail_details"></a>
Details</h2>
<ul>
<li>example output (data): <pre>
{
  "id": "282d100d-a35c-4a93-a45a-1d741f381f12",
  "first_name": "John",
  "last_name": "John",
  "locale": "cs_CZ",
  "locale_display_name": "Česká republika",
  "email": "john.smith@example.org",
  "picture_url": "",
  "provider": "google",
  "provider_display_name": "Google"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ProfileRestHandler.html#ae149de804fb37246075b56626277c3e2" title="Show details of a profiles given by ID. ">BeeeOn::RestUI::ProfileRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="profiles_list"></a>
GET /profiles</h1>
<p>List all profiles available for the current user. User profiles are usually sharing the same e-mail address but the profile identities are verified by different identity providers (Google, Facebook, etc.).</p>
<h2><a class="anchor" id="profiles_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="profiles_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="profiles_list_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ProfileRestHandler.html#adbfb40cf64574c3950cb8a0b0a36c33d" title="List all profiles available for the current user. User profiles are usually sharing the same e-mail a...">BeeeOn::RestUI::ProfileRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="oauth2callback_callback"></a>
GET /oauth2callback</h1>
<p>It generates a static output "oauth2callback" and its purpose is just to return HTTP 200.</p>
<h2><a class="anchor" id="oauth2callback_callback_request"></a>
Request</h2>
<ul>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="oauth2callback_callback_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="oauth2callback_callback_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1OAuth2CallbackRestHandler.html#adbc49d5a78a45e673d79708533964e23" title="It generates a static output &quot;oauth2callback&quot; and its purpose is just to return HTTP 200...">BeeeOn::RestUI::OAuth2CallbackRestHandler::callback(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="devices_list"></a>
GET /gateways/$gateway_id/devices</h1>
<p>List all devices associated with the given gateway.</p>
<h2><a class="anchor" id="devices_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="devices_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "0xa300000000000001",
    "location_id: "c5c8c9f1-e501-42fd-8f4d-31744c8eeacc",
    "name": "My favourite sensor",
    "type": {
      "name": "SuperS-3000X",
      "display_name": "Super Sensor 3000",
      "name": "Super Company"
    },
    "family": "vdev",
    "first_seen": 1538567860,
    "last_seen": 1538569021,
    "active_since": 1538568123,
    "last_changed": 1538568123,
    "state": "active",
    "refresh_time": 30,
    "available": true
  },
  {
    "id": "0xa600001012ad4912",
    "location_id: "00000000-0000-0000-0000-000000000000",
    "name": "My mobile phone",
    "type": {
      "name": "Unknown device",
      "display_name": "Unknown device",
      "name": "Bluetooth Availability"
    },
    "family": "bluetooth",
    "first_seen": 1538565192,
    "last_seen": 1538849021,
    "last_changed": 1538569021,
    "state": "inactive",
    "available": false
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#af695d55c0f9abc1a28f1c12ad67cf97b" title="List all devices associated with the given gateway. ">BeeeOn::RestUI::DeviceRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="devices_detail"></a>
GET /gateways/$gateway_id/devices/$device_id</h1>
<p>Show details of a device by the gateway ID and device ID. The property "active_since" is available only in case, when the device status is "active". The property "last_changed" is a more general and tells when the most recent state was changed. This allows to determine both when the device became "active" (same as "active_since") and when the device became "inactive".</p>
<h2><a class="anchor" id="devices_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="devices_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "0xa300000000000001",
  "location_id: "c5c8c9f1-e501-42fd-8f4d-31744c8eeacc",
  "name": "My favourite sensor",
  "type": {
    "name": "SuperS-3000X",
    "display_name": "Super Sensor 3000",
    "name": "Super Company"
  },
  "family": "vdev",
  "first_seen": 1538567860,
  "last_seen": 1538569021,
  "active_since": 1538568123,
  "last_changed": 1538568123,
  "state": "active",
  "refresh_time": 30,
  "available": true
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#a24fd3b334ee1dcde0b40de100c306fc6" title="Show details of a device by the gateway ID and device ID. The property &quot;active_since&quot; is available on...">BeeeOn::RestUI::DeviceRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="devices_update"></a>
PUT /gateways/$gateway_id/devices/$device_id</h1>
<p>Update editable information of a device. Note, that the refresh time might not be updatable for certain devices.</p>
<h2><a class="anchor" id="devices_update_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_update_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="devices_update_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 400, 404</li>
<li>example input: <pre>
{
  "name": "My coolest device",
  "location_id": "d087483a-a3ea-4736-ab2d-5f479bb16bfc",
  "refresh_time": 50
}
</pre></li>
<li>example output (data): <pre>
{
  "id": "0xa300000000000002",
  "location_id: "d087483a-a3ea-4736-ab2d-5f479bb16bfc",
  "name": "My coolest device",
  "type": {
    "name": "SuperS-3000X",
    "display_name": "Super Sensor 3000",
    "name": "Super Company"
  },
  "family": "vdev",
  "first_seen": 1538567860,
  "last_seen": 1538569021,
  "active_since": 1538568123,
  "last_changed": 1538568123,
  "state": "active",
  "refresh_time": 50,
  "available": true
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#af5ee9fa084d2b2d835a3c0b06d708f9d" title="Update editable information of a device. Note, that the refresh time might not be updatable for certa...">BeeeOn::RestUI::DeviceRestHandler::update(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="devices_discover"></a>
POST /gateways/$gateway_id/discovery</h1>
<p>Start discovery process on the associated gateway. The gateway would search for non-paired devices and report them to the server. Some technologies might require a manual intervation on the side of the gateway.</p>
<h2><a class="anchor" id="devices_discover_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_discover_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="devices_discover_details"></a>
Details</h2>
<ul>
<li>Location: {DEVICE_DISCOVERY_STATUS_URI}</li>
<li>usual responses: 202, 400</li>
<li>example input: <pre>
{
  "time_limit": 30
}
</pre></li>
<li>example output (data): <pre>
{
  "duration": 30,
  "started": 1538569108,
  "state": {
    "name": "waiting",
    "display_name": "In progress"
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#a919b91b013a7d43ec1946d9a636e3671" title="Start discovery process on the associated gateway. The gateway would search for non-paired devices an...">BeeeOn::RestUI::DeviceRestHandler::discover(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="devices_discoverStatus"></a>
GET /gateways/$gateway_id/discovery</h1>
<h2><a class="anchor" id="devices_discoverStatus_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_discoverStatus_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="devices_discoverStatus_details"></a>
Details</h2>
<p>The discovery process usually takes quite a long time (at least a minute, usually more, depending on the target technology). It is possible to set the maximal duration to be used, however, setting too low duration might lead to the situation that certain devices cannot be properly scanned o nthe gateway.</p>
<p>The discovery process has the following possible states:</p>
<ul>
<li>idle - no discovery is in progress</li>
<li>waiting - discovery request has been sent to gateway</li>
<li>processing - discovery is in progress</li>
<li>finished - discovery has finished successfully</li>
<li>failed - discovery has failed or partially failed</li>
</ul>
<p>The discovery can fail only partially (this is not possible to distinguish at the moment from the API). Partial fail usually occurs in the following situations:</p>
<ul>
<li>given duration is too short for one of the supported technologies</li>
<li>an appropriate dongle is missing for a certain technology (this can be considered as a bug on the BeeeOn Gateway)</li>
<li>discovery of one or more technolgies really failes because of some resources issues, broken hardware, etc.</li>
</ul>
<p>The ultimate discovery failed means that for all supported technolgies it was not possible to properly perform the discovery process. This occures rarely.</p>
<ul>
<li>usual responses: 200, 404</li>
<li>example output - idle (data): <pre>
{
  "state": {
    "name": "idle",
    "display_name": "Idle"
  }
}
</pre></li>
<li>example output - waiting (data): <pre>
{
  "duration": 30,
  "started": 1538569108,
  "state": {
    "name": "waiting",
    "display_name": "In progress"
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#a823367a021c562224a28e7f8cac389c3">BeeeOn::RestUI::DeviceRestHandler::discoverStatus(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="devices_unpair"></a>
DELETE /gateways/$gateway_id/devices/$device_id</h1>
<p>Unassociate a device from its gateway. Such device is not deleted, but it is no longer receiving data and cannot be remotely controlled in any other way. The semantics of the unpair operation might vary for different technologies. Some technologies would disassociate the device entirely, others would just stop reporting it at the highest level.</p>
<h2><a class="anchor" id="devices_unpair_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="devices_unpair_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="devices_unpair_details"></a>
Details</h2>
<ul>
<li>usual responses: 202, 404</li>
<li>example output (data): <pre>
{
  "id": "0xa300000000000002",
  "location_id: "d087483a-a3ea-4736-ab2d-5f479bb16bfc",
  "name": "My coolest device",
  "type": {
    "name": "SuperS-3000X",
    "display_name": "Super Sensor 3000",
    "name": "Super Company"
  },
  "family": "vdev",
  "first_seen": 1538567860,
  "last_seen": 1538569021,
  "last_changed": 1538568123,
  "state": "inactive",
  "refresh_time": 50,
  "available": true
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DeviceRestHandler.html#a1966fe3d0a8884c6d92d5c002ec993d6" title="Unassociate a device from its gateway. Such device is not deleted, but it is no longer receiving data...">BeeeOn::RestUI::DeviceRestHandler::unpair(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="notifications_list_services"></a>
GET /notifications</h1>
<p>List all available notification services the client can register with.</p>
<h2><a class="anchor" id="notifications_list_services_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="notifications_list_services_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="notifications_list_services_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "name": "fcm",
    "id": "super-public-fcm-id"
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1FCMTokenRestHandler.html#a1776b6c0f80624ee8d12e53ec752bc51" title="List all available notification services the client can register with. ">BeeeOn::RestUI::FCMTokenRestHandler::listServices(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="notifications_register"></a>
POST /notifications/fcm</h1>
<p>Register the given token of a notification service that would be used for client notifications.</p>
<h2><a class="anchor" id="notifications_register_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="notifications_register_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="notifications_register_details"></a>
Details</h2>
<ul>
<li>usual responses: 204</li>
<li>example input: <pre>
{
  "id": "super-token-from-fcm"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1FCMTokenRestHandler.html#ad513da1303bac0afc4ce366a7e7a7e41" title="Register the given token of a notification service that would be used for client notifications. ">BeeeOn::RestUI::FCMTokenRestHandler::registerToken(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="notifications_unregister"></a>
DELETE /notifications/fcm/$token</h1>
<p>Unregister the given token to stop generating notifications for the associated client.</p>
<h2><a class="anchor" id="notifications_unregister_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="notifications_unregister_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="notifications_unregister_details"></a>
Details</h2>
<ul>
<li>usual responses: 204</li>
<li>example input: <pre>
{
  "id": "super-token-from-fcm"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1FCMTokenRestHandler.html#aef87944af36c4ca5bc8b535933638c93" title="Unregister the given token to stop generating notifications for the associated client. ">BeeeOn::RestUI::FCMTokenRestHandler::unregisterToken(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="sensors_list"></a>
GET /gateways/$gateway_id/devices/$device_id/sensors</h1>
<p>List all sensors related to the device given by ID.</p>
<h2><a class="anchor" id="sensors_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="sensors_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="sensors_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "0",
    "display_name": "Outer Temperature",
    "type_id": "temperature",
    "current": 21.5
  },
  {
    "id": "1",
    "display_name": "Boiler faults",
    "type_id": "bitmap",
    "subtype_id": "MOD_CURRENT_BOILER_OT_FAULT_FLAGS",
    "current": 5
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1SensorRestHandler.html#a8ca262cfec0af3cb39de938e4c6335d5" title="List all sensors related to the device given by ID. ">BeeeOn::RestUI::SensorRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="sensors_detail"></a>
GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id</h1>
<p>Show details of a sensor - a single module of device.</p>
<h2><a class="anchor" id="sensors_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="sensors_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="sensors_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "1",
  "display_name": "humidity",
  "type_id": "humidity",
  "current": 70.2
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1SensorRestHandler.html#afbed307ae9b1d5a2fdd2f1c096b530d4" title="Show details of a sensor - a single module of device. ">BeeeOn::RestUI::SensorRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="sensors_current"></a>
GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id/current</h1>
<p>Show current value of the given sensor.</p>
<h2><a class="anchor" id="sensors_current_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="sensors_current_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="sensors_current_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>output is either a floating point number or null when no value for this sensor has been received <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1SensorRestHandler.html#ab405ffa2e1fa5085768ba3dd342cabd4" title="Show current value of the given sensor. ">BeeeOn::RestUI::SensorRestHandler::current(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="sensors_history"></a>
GET /gateways/$gateway_id/devices/$device_id/sensors/$sensor_id/history</h1>
<p>Show historical values of the given sensor. It is possible to request exact values, and aggregated values.</p>
<h2><a class="anchor" id="sensors_history_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="sensors_history_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="sensors_history_details"></a>
Details</h2>
<p>As the amount of output data can be high from this operation, the implementation can put restrictions on some parameter combinations.</p>
<p>Querying of history can be parametrized by:</p>
<ul>
<li>range - can contain one of keywords: "hour", "day", "week", "month", or a number of seconds into the past, or a pair of numbers separated by comma (,) with time range in seconds</li>
<li>aggregation - can contain one of keywords: "avg", "min", "max" or "freq"; it is possible to give a list of keywords separated by commas ("freq" cannot be used in such list)</li>
<li>interval - a number of seconds representing a gap between individual values</li>
</ul>
<p>The parameter "aggregation" influences the output format. Its default value is "avg" (no avarage is usually computed for very short intervals - i.e. 1 s). Formats:</p>
<p>The aggregation="freq" generates a summary of values for the given time range and interval. Thus, one can see how many times in a certain time interval an event has occured. E.g. between 15:00 and 16:00, the door has opened 10 times.</p>
<ol type="1">
<li>For aggregation="avg" or aggregation="min" or aggregation="max", the output format would be as follows: <pre>
{
  "at": &lt;time-in-seconds&gt;,
  "value": &lt;value-floating&gt;
}
</pre></li>
<li>For aggregation="freq", the output format would be as follows (the "value" can be a floating point number): <pre>
{
  "at": &lt;time-in-seconds&gt;,
  "value": &lt;value-floating&gt;,
  "frequency": &lt;count-integer&gt;
}
</pre></li>
<li>For aggregation="avg,min,max" (or similar combination, the order does matter), the output format would be: { "at": &lt;time-in-seconds&gt; "values": [ &lt;value-0-here-avg&gt;, &lt;value-1-here-min&gt;, &lt;value-2-here-max&gt;, ] }</li>
</ol>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
[
  {"at": 1536681651, "value": 25.6},
  {"at": 1536681661, "value": 25.2},
  {"at": 1536681671, "value": 25.4},
  {"at": 1536681681, "value": 25.3},
  {"at": 1536681691, "value": 25.3}
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1SensorRestHandler.html#a11eef5cfd3c384958141f0033d956356" title="Show historical values of the given sensor. It is possible to request exact values, and aggregated values. ">BeeeOn::RestUI::SensorRestHandler::history(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_keys"></a>
GET /gateways/devices/properties/keys</h1>
<p>List all available property keys that can be used for device properties. (<a class="el" href="classBeeeOn_1_1RestFlow.html">BeeeOn::RestFlow</a> &amp;)</p>
<h2><a class="anchor" id="device_properties_keys_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_keys_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_keys_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "display_name": "IP address",
    "key": "ip_address",
  },
  {
    "display_name": "Password",
    "key": "password",
    "write-only": true
  },
  {
    "display_name": "Firmware",
    "key": "firmware"
    "read-only": frue
  }
]
</pre> (<a class="el" href="classBeeeOn_1_1RestFlow.html">BeeeOn::RestFlow</a> &amp;) <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#ab26bc3ab13df79fbaf107422a2c9536d" title="List all available property keys that can be used for device properties. ">BeeeOn::RestUI::DevicePropertiesRestHandler::keys</a> (<a class="el" href="classBeeeOn_1_1RestFlow.html">BeeeOn::RestFlow</a> &amp;) </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_list"></a>
GET /gateways/$gateway_id/devices/$device_id/properties</h1>
<p>List all properties associated with the requested device. Each property can be read-only, write-only or both read-writable. Write-only properties would have value null.</p>
<h2><a class="anchor" id="device_properties_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "display_name": "IP address",
    "key": "ip_address",
    "value": "192.168.0.1"
  },
  {
    "display_name": "Password",
    "key": "password",
    "value": null,
    "write-only": true
  },
  {
    "display_name": "Firmware",
    "key": "firmware",
    "value": "v128",
    "read-only": true
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#a7d83dd0367dbd7f10fc5ed8948165aec" title="List all properties associated with the requested device. Each property can be read-only, write-only or both read-writable. Write-only properties would have value null. ">BeeeOn::RestUI::DevicePropertiesRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_detail"></a>
GET /gateways/$gateway_id/devices/$device_id/properties/$key</h1>
<p>Show the associated property of the selected device. Write-only properties would have value null.</p>
<h2><a class="anchor" id="device_properties_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 400, 404</li>
<li>example output (data): <pre>
{
  "display_name": "IP address",
  "key": "ip_address",
  "value": "10.0.0.1"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#a13061e1ec3424857beb1ba5d8b4a38a7" title="Show the associated property of the selected device. Write-only properties would have value null...">BeeeOn::RestUI::DevicePropertiesRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_create"></a>
POST /gateways/$gateway_id/devices/$device_id/properties/$key</h1>
<p>Create a new property and associate it with the selected device. Properties known-to be read-only would not be created and the response would have HTTP code 405. Creating and already existing property would generate HTTP code 409.</p>
<h2><a class="anchor" id="device_properties_create_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_create_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_create_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 400, 404, 405, 409</li>
<li>example input (data): <pre>
{
  "value": "10.0.0.1"
}
</pre></li>
<li>example output (data): <pre>
{
  "display_name": "IP address",
  "key": "ip_address",
  "value": "10.0.0.1"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#abbd866ec398957bd95c6a6c6c80fad77" title="Create a new property and associate it with the selected device. Properties known-to be read-only wou...">BeeeOn::RestUI::DevicePropertiesRestHandler::create(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_update"></a>
PUT /gateways/$gateway_id/devices/$device_id/properties/$key</h1>
<p>Update editable property associated with the selected device. Read-only properties cannot be updated and would generate HTTP code 405.</p>
<h2><a class="anchor" id="device_properties_update_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_update_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_update_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 400, 404, 405</li>
<li>example input: <pre>
{
  "value": "Ohchoo9Ali6aiCh4azee1Oxa"
}
</pre></li>
<li>example output (data): <pre>
{
  "display_name": "Password",
  "key": "password",
  "value: null,
  "write-only": true
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#a9b40b42edb48aaea6669a72ff280f72f" title="Update editable property associated with the selected device. Read-only properties cannot be updated ...">BeeeOn::RestUI::DevicePropertiesRestHandler::update(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="device_properties_remove"></a>
DELETE /gateways/$gateway_id/devices/$device_id/properties/$key</h1>
<p>Remove the selected property from the associated device. Read-only properties cannot be removed and would generate HTTP code 405.</p>
<h2><a class="anchor" id="device_properties_remove_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="device_properties_remove_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="device_properties_remove_details"></a>
Details</h2>
<ul>
<li>usual responses: 204, 404, 405</li>
<li>example output (data): <pre>
[
   {
     "display_name": "IP address",
     "key": "ip_address",
     "value": "192.168.0.1",
   },
   {
     "display_name": "Firmware",
     "key": "firmware",
     "value": "v128",
     "read-only": true
   }
 ]
 </pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1DevicePropertiesRestHandler.html#ac0d9c4c0f9fa40e6b9852dae215327bf" title="Remove the selected property from the associated device. Read-only properties cannot be removed and w...">BeeeOn::RestUI::DevicePropertiesRestHandler::remove(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="locations_list"></a>
GET /gateways/$gateway_id/locations</h1>
<h2><a class="anchor" id="locations_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="locations_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="locations_list_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::LocationRestHandler::list(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="locations_detail"></a>
GET /gateways/$gateway_id/locations/$location_id</h1>
<h2><a class="anchor" id="locations_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="locations_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="locations_detail_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::LocationRestHandler::detail(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="locations_create"></a>
POST /gateways/$gateway_id/locations</h1>
<h2><a class="anchor" id="locations_create_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="locations_create_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="locations_create_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::LocationRestHandler::create(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="locations_update"></a>
PUT /gateways/$gateway_id/locations/$location_id</h1>
<h2><a class="anchor" id="locations_update_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="locations_update_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="locations_update_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::LocationRestHandler::update(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="locations_delete"></a>
DELETE /gateways/$gateway_id/locations/$location_id</h1>
<h2><a class="anchor" id="locations_delete_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="locations_delete_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="locations_delete_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::LocationRestHandler::remove(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="gateways_list"></a>
GET /gateways</h1>
<p>List all available gateways of the current user.</p>
<h2><a class="anchor" id="gateways_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateways_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="gateways_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "1386756787219335",
    "name": "My gateway #1",
    "altitude": 51.5,
    "latitude": -80.673333,
    "longitude": -106.433917,
    "timezone": "en_US",
    "state": {
      "lastModified": 1536588606,
      "ip": "192.168.0.10",
      "version": "v2018.07.1"
    },
    "last_activity": null
  },
  {
    "id": "1502654506100304",
    "name": "My gateway #2",
    "altitude": 1230.12,
    "latitude": 59.297259,
    "longitude": 47.635309,
    "timezone": "en_US",
    "state": {
      "lastModified": 1536588606,
      "ip": "192.168.0.10",
      "version": "v2018.07.2"
    },
    "last_activity": 1536592114,
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1GatewayRestHandler.html#ab8afd6204aeaf6cfb6c2d5990fbde126" title="List all available gateways of the current user. ">BeeeOn::RestUI::GatewayRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateways_detail"></a>
GET /gateways/$gatewayId</h1>
<p>Show details of a gateway by the given unique gateway ID.</p>
<h2><a class="anchor" id="gateways_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateways_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="gateways_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "1753615168990499",
  "name": "My gateway #1",
  "altitude": 50.0,
  "latitude": 80.0,
  "longitude": 106.0,
  "timezone": "en_US",
  "state": {
    "lastModified": 1536588606,
    "ip": "192.168.0.10",
    "version": "v2018.07.1"
  },
  "last_activity": 1536592114,
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1GatewayRestHandler.html#a7c24ba3d25b82f3a228823c9414e8adc" title="Show details of a gateway by the given unique gateway ID. ">BeeeOn::RestUI::GatewayRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateways_update"></a>
PUT /gateways/$gatewayId</h1>
<p>Update settings of a gateway specified by ID. It is possible to update fields: <em>name</em>, <em>timezone_id</em>, <em>altitude</em>, <em>latitude</em>, <em>longitude</em>.</p>
<h2><a class="anchor" id="gateways_update_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateways_update_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="gateways_update_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404, 400</li>
<li>example input: <pre>
{
   "name": "My second cool gw",
   "timezone_id": "en_GB"
}
</pre></li>
<li>example output (data): <pre>
{
  "id": "1753615168990499",
  "name": "My second cool gw",
  "altitude": 50.0,
  "latitude": 80.0,
  "longitude": 106.0,
  "timezone": "en_GB",
  "state": {
    "lastModified": 1536588606,
    "ip": "192.168.0.10",
    "version": "v2018.07.1"
  }
  "last_activity": 1536592114,
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1GatewayRestHandler.html#aa3bcfe94a92135a7c1ab32a919f0334c" title="Update settings of a gateway specified by ID. It is possible to update fields: name, timezone_id, altitude, latitude, longitude. ">BeeeOn::RestUI::GatewayRestHandler::update(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateways_assign"></a>
POST /gateways</h1>
<p>Register gateway by ID with the current user (from session). The user becomes an administrator of the gateway. If the gateway is already registered, this operation would be unsuccessful.</p>
<h2><a class="anchor" id="gateways_assign_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateways_assign_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="gateways_assign_details"></a>
Details</h2>
<p>It is mandatory to set fields: <em>name</em> and <em>timezone_id</em>. Optionally, it is possible to specify fields: <em>altitude</em>, <em>latitude</em> and <em>longitude</em>.</p>
<ul>
<li>Location: {GATEWAY_DETAIL_URI}</li>
<li>usual responses: 201, 404</li>
<li>example input: <pre>
{
   "name": "My cool gw",
   "timezone_id": "pt_PT",
   "altitude": "600"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1GatewayRestHandler.html#aff9a543b0da02109bd69374c9b367a98" title="Register gateway by ID with the current user (from session). The user becomes an administrator of the...">BeeeOn::RestUI::GatewayRestHandler::assign(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateways_unassign"></a>
DELETE /gateways/$gatewayId</h1>
<p>Unregister gateway by ID from the current user (from session). If the user is the last administrator of that gateway, there must be no other users assign for this operation to succeed.</p>
<h2><a class="anchor" id="gateways_unassign_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateways_unassign_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="gateways_unassign_details"></a>
Details</h2>
<ul>
<li>Location: {GATEWAY_LIST}</li>
<li>usual responses: 204, 404 <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1GatewayRestHandler.html#a6391a73be54b4e27138518386b65f295" title="Unregister gateway by ID from the current user (from session). If the user is the last administrator ...">BeeeOn::RestUI::GatewayRestHandler::unassign(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="time_zones_list"></a>
GET /time/zones</h1>
<p>List available time zones known to the server.</p>
<h2><a class="anchor" id="time_zones_list_request"></a>
Request</h2>
<ul>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="time_zones_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="time_zones_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "Africa/Abidjan",
    "short_name": "GMT",
    "display_name": "Africa/Abidjan (GMT)",
    "utc_offset": 0,
    "dst_offset": 0,
    "dst_in_effect": 0
  },
  {
    "id": "Africa/Accra",
    "short_name": "GMT",
    "display_name": "Africa/Accra (GMT)",
    "utc_offset": 0,
    "dst_offset": 0,
    "dst_in_effect": 0
  },
  {
    "id": "America/Santiago",
    "short_name": "GMT-03:00",
    "display_name": "America/Santiago (GMT-03:00)",
    "utc_offset": -14400,
    "dst_offset": 3600,
    "dst_in_effect": 1
  },
  {
    "id": "Europe/Budapest",
    "short_name": "GMT+01:00",
    "display_name": "Europe/Budapest (GMT+01:00)",
    "utc_offset": 3600,
    "dst_offset": 3600,
    "dst_in_effect": 0
  },
  {
    "id": "Europe/Prague",
    "short_name": "GMT+01:00",
    "display_name": "Europe/Prague (GMT+01:00)",
    "utc_offset": 3600,
    "dst_offset": 3600,
    "dst_in_effect": 0
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TimeZoneRestHandler.html#a7e7e4dd57c69f0a9f93ddd9277f8a015" title="List available time zones known to the server. ">BeeeOn::RestUI::TimeZoneRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="time_zones_detail"></a>
GET /time/zones/$id</h1>
<p>Show details of a time zone by its ID.</p>
<h2><a class="anchor" id="time_zones_detail_request"></a>
Request</h2>
<ul>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="time_zones_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="time_zones_detail_details"></a>
Details</h2>
<p>Each time zone is described by its unique ID and offsets from the UTC time. In case when a time zone uses the DST (daylight saving time), the additional properties are to be considered:</p>
<ul>
<li>dst_offset - offset when DST is in effect</li>
<li>dst_in_effect - 1 when it is in effect right know, otherwise 0</li>
</ul>
<p>The dst_in_effect property changes during the year according to the current time and date.</p>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  {
    "id": "Europe/Prague",
    "short_name": "GMT+01:00",
    "display_name": "Europe/Prague (GMT+01:00)",
    "utc_offset": 3600,
    "dst_offset": 3600,
    "dst_in_effect": 0
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TimeZoneRestHandler.html#a789149c1cb7787219954950894e01239" title="Show details of a time zone by its ID. ">BeeeOn::RestUI::TimeZoneRestHandler::detailByID(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="time_zones_detail_pair"></a>
GET /time/zones/$continent/$city</h1>
<p>Show details of a time zone by the combination country/city. The time zone ID is often expressed in the format country/city which does not fit into the URL path as 1 single item. This endpoint has thus the same semantics as detailByID().</p>
<h2><a class="anchor" id="time_zones_detail_pair_request"></a>
Request</h2>
<ul>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="time_zones_detail_pair_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="time_zones_detail_pair_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1TimeZoneRestHandler.html#a789149c1cb7787219954950894e01239" title="Show details of a time zone by its ID. ">BeeeOn::RestUI::TimeZoneRestHandler::detailByID(BeeeOn::RestFlow &amp;)</a> </dd>
<dd>
<a class="el" href="classBeeeOn_1_1RestUI_1_1TimeZoneRestHandler.html#aaafe7ea2120c4cdd4515dcfd8805b5e9" title="Show details of a time zone by the combination country/city. The time zone ID is often expressed in t...">BeeeOn::RestUI::TimeZoneRestHandler::detailByPair(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="controls_list"></a>
GET /gateways/$gateway_id/devices/$device_id/controls</h1>
<p>List all available controllable modules of the selected device.</p>
<h2><a class="anchor" id="controls_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="controls_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="controls_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "3",
    "display_name": "On/Off",
    "type_id": "on_off",
    "order": "3",
    "state": {
      "requested_value": 0,
      "requested_at": 1543947401,
      "accepted_at": 1543947402,
      "finished_at": 1543947411,
      "result": "success"
    }
    "current": {
      "value": 0,
      "at": 1543947610
    }
  },
  {
    "id": "4",
    "display_name": "Operation Mode",
    "type_id": "enum",
    "subtype_id": "OPERATION_MODE",
    "order": "4",
    "state": {
      "requested_value": 2,
      "requested_at": 1543947517,
      "result": "waiting"
    }
    "current": {
      "value": 1,
      "at": 1543947364
    }
  }
]
</pre></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ControlRestHandler.html#af204daeb8d9beef8f79e16e77119b2a8" title="Show details of a controllable module for the selected device by its device-unique ID...">BeeeOn::RestUI::ControlRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd>
<dd>
<a class="el" href="classBeeeOn_1_1RestUI_1_1ControlRestHandler.html#a9812d1a37b4d69e94e6da33ade602153" title="List all available controllable modules of the selected device. ">BeeeOn::RestUI::ControlRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="controls_detail"></a>
GET /gateways/$gateway_id/devices/$device_id/controls/$control_id</h1>
<p>Show details of a controllable module for the selected device by its device-unique ID.</p>
<h2><a class="anchor" id="controls_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="controls_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="controls_detail_details"></a>
Details</h2>
<p>Special properties:</p><ul>
<li>group - allows to semantically group the module in UI</li>
<li>order - recommendation how to order that module in UI</li>
<li>current - if missing, nothing has been received from that module yet</li>
<li>state - if missing, there was no request to change that module yet</li>
</ul>
<p>There can be only one request for a single controllable module at a time. The request has the property "result" explaining its status (possible values: "waiting", "success", "failure"). If the request has been already accepted by the appropriate gateway, the property "accepted_at" is non-null and holding the time of the acceptation. If the request is finished (successfully or insuccessfully), the property "finished_at" is non-null and holding the time of the finalization.</p>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "0",
  "display_name": "Target temperature",
  "type_id": "temperature",
  "group": "Thermostat",
  "order": "0",
  "current": {
    "value": 15,
    "at": 1543947821
  },
  "state": {
    "requested_value": 15,
    "requested_at": 1543947820,
    "accepted_at": 1543947820,
    "finished_at": 1543947821,
    "result": "success"
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ControlRestHandler.html#af204daeb8d9beef8f79e16e77119b2a8" title="Show details of a controllable module for the selected device by its device-unique ID...">BeeeOn::RestUI::ControlRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="controls_current"></a>
GET /gateways/$gateway_id/devices/$device_id/controls/$control_id/current</h1>
<p>Show current data and state of the selected controllable module.</p>
<h2><a class="anchor" id="controls_current_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="controls_current_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="controls_current_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "state": {
    "requested_value": 20,
    "requested_at": 1543948549,
    "finished_at": 1543948571,
    "result": "failure"
  }
  "current": {
    "value": 15,
    "at": 1543947821
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ControlRestHandler.html#a1f79035c090dc14f705c231609789731" title="Show current data and state of the selected controllable module. ">BeeeOn::RestUI::ControlRestHandler::current(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="controls_request_change"></a>
POST /gateways/$gateway_id/devices/$device_id/controls/$control_id/current</h1>
<p>Initiate a request to change state of the selected controllable module. Only one request can be active at a time. If there is an already pending request, it is returned.</p>
<h2><a class="anchor" id="controls_request_change_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="controls_request_change_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="controls_request_change_details"></a>
Details</h2>
<p>If a request is already in progress, server would return response code 423 (Locked). It is possible to cancel the previous request and start the new one by passing parameter "force" in the URL query part (<code>?force</code>).</p>
<ul>
<li>usual responses: 200, 400, 404, 423</li>
<li>example input: <pre>
{
  "value": 1,
  "timeout": 30
}
</pre></li>
<li>example output (data): <pre>
{
  "state": {
    "requested_value": 1,
    "requested_at": 1543948549,
    "result": "waiting"
  }
  "current": {
    "value": 0,
    "at": 1543947821
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1ControlRestHandler.html#a6e2c5b6aa70a88b1253f8ab3a3173395" title="Initiate a request to change state of the selected controllable module. Only one request can be activ...">BeeeOn::RestUI::ControlRestHandler::requestChange(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateway_messages_list"></a>
GET /gateways/$gateway_id/messages</h1>
<p>List all messages related to the given gateway.</p>
<h2><a class="anchor" id="gateway_messages_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateway_messages_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 10</li>
<li>Cache-Control: max-age=10, must-revalidate</li>
</ul>
<h2><a class="anchor" id="gateway_messages_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "28065460-9fd5-4471-bc5e-4bae866f2743",
    "gateway_id": "1667652370823517",
    "at": 1546265027587,
    "severity": "warn",
    "key": "discovery.failed",
    "context": {"gateway_id": "1667652370823517", "technology": "bluetooth"},
    "display_text": "Discovery failed for 'bluetooth' on gateway 1667652370823517"
  },
  {
    "id": "df616fe5-5fa6-43fc-800c-ffb9bc23d72a",
    "gateway_id": "1667652370823517",
    "at": 1546269212092,
    "severity": "info",
    "key": "control.changed",
    "context": {
       "gateway_id": "1667652370823517",
       "device_name": "Lights",
       "device_id": "0xa712345600010203",
       "module_id": 2,
       "module_type": "on_off"
    },
    "display_text": "Control 'on_off' was successfully changed for device 'Lights'"
  }
]
</pre></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1MessageRestHandler.html#a1523d3b90b86853487ac124831c398e2" title="List all messages related to the given gateway. The result contains the message description consistin...">BeeeOn::RestUI::MessageRestHandler::detail</a> </dd>
<dd>
<a class="el" href="classBeeeOn_1_1RestUI_1_1MessageRestHandler.html#a57d79d7e4147f1130cb42f9be8baff95" title="List all messages related to the given gateway. ">BeeeOn::RestUI::MessageRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="gateway_messages_detail"></a>
GET /gateways/$gateway_id/messages/$id</h1>
<p>List all messages related to the given gateway. The result contains the message description consisting of:</p>
<h2><a class="anchor" id="gateway_messages_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateway_messages_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 3600</li>
<li>Cache-Control: max-age=3600, must-revalidate</li>
</ul>
<h2><a class="anchor" id="gateway_messages_detail_details"></a>
Details</h2>
<ul>
<li>at - time of the message creation in milliseconds</li>
<li>severity - "info", "warn" or "error"</li>
<li>key - string that identifies the message</li>
<li>context - optional JSON object describing the context of the message</li>
<li>display_text - translated message composed from the key and context</li>
</ul>
<p>The <code>display_text</code> entry would be missing if such message is not defined as a resource on the server. The client can still try to translate the message on its own based on the <em>key</em> and <em>context</em>.</p>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "28065460-9fd5-4471-bc5e-4bae866f2743",
  "gateway_id": "1667652370823517",
  "at": 1546265027587,
  "severity": "warn",
  "key": "discovery.failed",
  "context": {"gateway_id": "1667652370823517", "technology": "bluetooth"},
  "display_text": "Discovery failed for 'bluetooth' on gateway 1667652370823517"
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1MessageRestHandler.html#a1523d3b90b86853487ac124831c398e2" title="List all messages related to the given gateway. The result contains the message description consistin...">BeeeOn::RestUI::MessageRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="gateway_messages_remove"></a>
DELETE /gateways/$gateway_id/messages/$id</h1>
<p>Remove the selected message of a gateway.</p>
<h2><a class="anchor" id="gateway_messages_remove_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="gateway_messages_remove_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="gateway_messages_remove_details"></a>
Details</h2>
<ul>
<li>Location: {MESSAGES_LIST}</li>
<li>usual responses: 204, 404 <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1MessageRestHandler.html#ad150e9d0111af6b6008d10993403c067" title="Remove the selected message of a gateway. ">BeeeOn::RestUI::MessageRestHandler::remove(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="roles_list"></a>
GET /gateways/$gateway_id/roles</h1>
<p>List all roles associated with the given gateway.</p>
<h2><a class="anchor" id="roles_list_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_list_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="roles_list_details"></a>
Details</h2>
<ul>
<li>usual responses: 200</li>
<li>example output (data): <pre>
[
  {
    "id": "7ac2d962-72d0-496a-a8c3-d44074fef561",
    "identity_email": "user1@example.org",
    "access_level": 30,
    "created": 1536682053
  },
  {
    "id": "68e41151-4d22-4509-bf04-4a8cc6b49e67",
    "identity_email": "joe@example.org",
    "access_level": 10,
    "created": 1536672181
  }
]
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1RoleRestHandler.html#a97b41b97e21ac7d5f3ee2d4065ee281c" title="List all roles associated with the given gateway. ">BeeeOn::RestUI::RoleRestHandler::list(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="roles_current"></a>
GET /gateways/$gateway_id/roles/current</h1>
<p>Redirect to detail of the current role associated with the given gateway. The result is role of the current user.</p>
<h2><a class="anchor" id="roles_current_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_current_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="roles_current_details"></a>
Details</h2>
<ul>
<li>Location: {ROLE_CURRENT_DETAIL}</li>
<li>usual responses: 303, 404 <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1RoleRestHandler.html#a01438bbd6027c11bafb6168976bfc440" title="Redirect to detail of the current role associated with the given gateway. The result is role of the c...">BeeeOn::RestUI::RoleRestHandler::current(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="roles_detail"></a>
GET /gateways/$gateway_id/roles/$role_id</h1>
<p>Show details of a selected role.</p>
<h2><a class="anchor" id="roles_detail_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_detail_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Expires: {NOW} + 60</li>
<li>Cache-Control: max-age=60, must-revalidate</li>
</ul>
<h2><a class="anchor" id="roles_detail_details"></a>
Details</h2>
<ul>
<li>usual responses: 200, 404</li>
<li>example output (data): <pre>
{
  "id": "2bfd5682-ee89-409b-a27a-38e3e16fcc35",
  "identity_email": "john@example.org",
  "access_level": 10,
  "created": 1536682231,
  "user": {
    "first_name": "John",
    "last_name": "Smith"
  }
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1RoleRestHandler.html#afb73fe0359743b62017eb0c67e8f8d4e" title="Show details of a selected role. ">BeeeOn::RestUI::RoleRestHandler::detail(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="roles_create"></a>
POST /gateways/$gateway_id/roles</h1>
<p>Create a new role for the given gateway. The user of the role is invited to use the associated gateway.</p>
<h2><a class="anchor" id="roles_create_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_create_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="roles_create_details"></a>
Details</h2>
<ul>
<li>Location: {ROLE_CREATED_DETAIL}</li>
<li>usual responses: 201</li>
<li>example input: <pre>
{
  "identity_email": "john@example.org",
  "access_level": 20
}
</pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1RestUI_1_1RoleRestHandler.html#a4eb04718ab5bd63aef08c33f0370387c" title="Create a new role for the given gateway. The user of the role is invited to use the associated gatewa...">BeeeOn::RestUI::RoleRestHandler::create(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="roles_update"></a>
PUT /gateways/$gateway_id/roles/$role_id</h1>
<h2><a class="anchor" id="roles_update_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_update_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="roles_update_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::RoleRestHandler::update(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="roles_delete"></a>
DELETE /gateways/$gateway_id/roles/$role_id</h1>
<h2><a class="anchor" id="roles_delete_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="roles_delete_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="roles_delete_details"></a>
Details</h2>
<dl class="section see"><dt>See also</dt><dd>BeeeOn::RestUI::RoleRestHandler::remove(BeeeOn::RestFlow &amp;) </dd></dl>
<h1><a class="anchor" id="builtin_unauthorized"></a>
GET builtin.unauthorized (internal)</h1>
<p>It always returns HTTP code 401 and generates HTTP header WWW-Authenticate: Basic realm="BeeeOn Server" (the realm is configurable via the used RestRouter).</p>
<h2><a class="anchor" id="builtin_unauthorized_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="builtin_unauthorized_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="builtin_unauthorized_details"></a>
Details</h2>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Poco::Net::NotAuthenticatedException</td><td>- always </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1BuiltinRestHandler.html#a74eb60f08d9ba10f6b6ea2687ed561ab" title="It always returns HTTP code 401 and generates HTTP header WWW-Authenticate: Basic realm=&quot;BeeeOn Serve...">BeeeOn::BuiltinRestHandler::unauthorized(BeeeOn::RestFlow &amp;)</a> </dd></dl>
<h1><a class="anchor" id="builtin_noroute"></a>
GET builtin.noroute (internal)</h1>
<p>It always returns HTTP code 404.</p>
<h2><a class="anchor" id="builtin_noroute_request"></a>
Request</h2>
<ul>
<li>session is required</li>
<li>maximal allowed input data size: 10240 B</li>
<li>Content-Type:</li>
</ul>
<h2><a class="anchor" id="builtin_noroute_response"></a>
Response</h2>
<ul>
<li>Content-Type:</li>
<li>Cache-Control: public, no-cache</li>
</ul>
<h2><a class="anchor" id="builtin_noroute_details"></a>
Details</h2>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Poco::NotFoundException</td><td>- always </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeeeOn_1_1BuiltinRestHandler.html#a38a8bd0ae6e490aaf8eabe4a4200f0a3" title="It always returns HTTP code 404. ">BeeeOn::BuiltinRestHandler::noRoute(BeeeOn::RestFlow &amp;)</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
