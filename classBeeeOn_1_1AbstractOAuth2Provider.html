<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: BeeeOn::AbstractOAuth2Provider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.11.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html">AbstractOAuth2Provider</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::AbstractOAuth2Provider Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html" title="AbstractOAuth2Provider provides a helper facility to implement support for an OAuth2 authorization me...">AbstractOAuth2Provider</a> provides a helper facility to implement support for an OAuth2 authorization mechanism. It implements the two interfaces <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html" title="OAuth2CodeExchanger provides an interface for obtaining tokens from a token endpoint for the given au...">OAuth2CodeExchanger</a> and <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html" title="OAuth2UserFetcher provides an interface for obtaining user information based on a authorization token...">OAuth2UserFetcher</a> intended to solve the OAuth2 authorization step by step.  
 <a href="classBeeeOn_1_1AbstractOAuth2Provider.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AbstractOAuth2Provider_8h_source.html">AbstractOAuth2Provider.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::AbstractOAuth2Provider:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1AbstractOAuth2Provider.png" usemap="#BeeeOn::AbstractOAuth2Provider_map" alt=""/>
  <map id="BeeeOn::AbstractOAuth2Provider_map" name="BeeeOn::AbstractOAuth2Provider_map">
<area href="classBeeeOn_1_1OAuth2CodeExchanger.html" title="OAuth2CodeExchanger provides an interface for obtaining tokens from a token endpoint for the given au..." alt="BeeeOn::OAuth2CodeExchanger" shape="rect" coords="0,0,212,24"/>
<area href="classBeeeOn_1_1OAuth2UserFetcher.html" title="OAuth2UserFetcher provides an interface for obtaining user information based on a authorization token..." alt="BeeeOn::OAuth2UserFetcher" shape="rect" coords="222,0,434,24"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="444,0,656,24"/>
<area href="classBeeeOn_1_1FacebookOAuth2Provider.html" title="Implement the OAuth2UserFetcher and OAuth2CodeExchanger for Facebook. " alt="BeeeOn::FacebookOAuth2Provider" shape="rect" coords="111,112,323,136"/>
<area href="classBeeeOn_1_1GoogleOAuth2Provider.html" title="Implementation of OAuth2 provider for Google. It realizes the two interfaces: OAuth2CodeExchanger and..." alt="BeeeOn::GoogleOAuth2Provider" shape="rect" coords="333,112,545,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a035683895b881e557eb5a3f103ed455c"><td class="memItemLeft" align="right" valign="top"><a id="a035683895b881e557eb5a3f103ed455c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AbstractOAuth2Provider</b> (const <a class="el" href="classBeeeOn_1_1HTTPClient.html">HTTPClient</a> &amp;exchanger, const <a class="el" href="classBeeeOn_1_1HTTPClient.html">HTTPClient</a> &amp;fetcher)</td></tr>
<tr class="separator:a035683895b881e557eb5a3f103ed455c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc9a0b16633982fe450b5a3c445781a"><td class="memItemLeft" align="right" valign="top"><a id="adbc9a0b16633982fe450b5a3c445781a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRedirectUri</b> (const std::string &amp;uri)</td></tr>
<tr class="separator:adbc9a0b16633982fe450b5a3c445781a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f28be53e8d9f144e5d6a7267d29eff"><td class="memItemLeft" align="right" valign="top"><a id="a81f28be53e8d9f144e5d6a7267d29eff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setClientId</b> (const std::string &amp;id)</td></tr>
<tr class="separator:a81f28be53e8d9f144e5d6a7267d29eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9642038f7ed28b2dd4eb500e40675d"><td class="memItemLeft" align="right" valign="top"><a id="a6f9642038f7ed28b2dd4eb500e40675d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setClientSecret</b> (const std::string &amp;secret)</td></tr>
<tr class="separator:a6f9642038f7ed28b2dd4eb500e40675d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8c182eeef24022fbd10b2ccf837314"><td class="memItemLeft" align="right" valign="top"><a id="ada8c182eeef24022fbd10b2ccf837314"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setExchangeUrl</b> (const std::string &amp;url)</td></tr>
<tr class="separator:ada8c182eeef24022fbd10b2ccf837314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af562ee19d126e09a1d1977101a7c3900"><td class="memItemLeft" align="right" valign="top"><a id="af562ee19d126e09a1d1977101a7c3900"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setFetchUrl</b> (const std::string &amp;url)</td></tr>
<tr class="separator:af562ee19d126e09a1d1977101a7c3900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ca1e4f257f8df4131a3a3e1ba2f015"><td class="memItemLeft" align="right" valign="top"><a id="a16ca1e4f257f8df4131a3a3e1ba2f015"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>setSSLConfig</b> (SSLClient::Ptr config)</td></tr>
<tr class="separator:a16ca1e4f257f8df4131a3a3e1ba2f015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf97723181209e63dab2cba1c59db61"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a0bf97723181209e63dab2cba1c59db61">clientId</a> () const override</td></tr>
<tr class="separator:a0bf97723181209e63dab2cba1c59db61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a309e0c2f1872221598a97403657a64"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a3a309e0c2f1872221598a97403657a64">redirectUri</a> () const override</td></tr>
<tr class="separator:a3a309e0c2f1872221598a97403657a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d11d605df266dfa67c67ffd3f8e7e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">Tokens</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a5d11d605df266dfa67c67ffd3f8e7e6d">exchange</a> (const <a class="el" href="classBeeeOn_1_1AuthCodeCredentials.html">AuthCodeCredentials</a> &amp;cred) override</td></tr>
<tr class="separator:a5d11d605df266dfa67c67ffd3f8e7e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb98cacbfdc54b3fec532614e185aaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#afcb98cacbfdc54b3fec532614e185aaf">fetch</a> (const <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> &amp;tokens, <a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> &amp;result, const Poco::Timestamp &amp;now={}) override</td></tr>
<tr class="separator:afcb98cacbfdc54b3fec532614e185aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aeb3899e0642a638cdaf9cc49418b074a"><td class="memItemLeft" align="right" valign="top"><a id="aeb3899e0642a638cdaf9cc49418b074a"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>clientSecret</b> () const</td></tr>
<tr class="separator:aeb3899e0642a638cdaf9cc49418b074a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb16667eb6a1bc786cedbb7ca0ef7c4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a3fb16667eb6a1bc786cedbb7ca0ef7c4">prepareExchange</a> (Poco::Net::HTMLForm &amp;form, const <a class="el" href="classBeeeOn_1_1AuthCodeCredentials.html">AuthCodeCredentials</a> &amp;cred) const</td></tr>
<tr class="separator:a3fb16667eb6a1bc786cedbb7ca0ef7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe4fcc1332e37f70f260286b434ea41"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#abbe4fcc1332e37f70f260286b434ea41">parseTokens</a> (const Poco::JSON::Object::Ptr body) const</td></tr>
<tr class="separator:abbe4fcc1332e37f70f260286b434ea41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe97a713efb1bb926bd48335ff9ab68"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a4fe97a713efb1bb926bd48335ff9ab68">prepareFetch</a> (Poco::Net::HTMLForm &amp;form, const <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> &amp;tokens) const =0</td></tr>
<tr class="separator:a4fe97a713efb1bb926bd48335ff9ab68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64d9f63a7808479ed8529925e03fb37"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#ae64d9f63a7808479ed8529925e03fb37">parseUserInfo</a> (const Poco::JSON::Object::Ptr info, <a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> &amp;result) const</td></tr>
<tr class="separator:ae64d9f63a7808479ed8529925e03fb37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ac1c68e157429df380ff3805287baaa6f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupLogger</b> (Poco::Logger *logger=0) const</td></tr>
<tr class="separator:ac1c68e157429df380ff3805287baaa6f inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a689ac76b94112bc55f9f528fc54a7d40"></a>
Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b> () const</td></tr>
<tr class="separator:a689ac76b94112bc55f9f528fc54a7d40 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a28780034cab771631dfb4db98a7954bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="aeba38a43bcc45e65dfb6455ad8ad2e1d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1OAuth2CodeExchanger"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1OAuth2CodeExchanger')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html">BeeeOn::OAuth2CodeExchanger</a></td></tr>
<tr class="memitem:a41fbb11d238161f69846736f85f42ab5 inherit pub_types_classBeeeOn_1_1OAuth2CodeExchanger"><td class="memItemLeft" align="right" valign="top"><a id="a41fbb11d238161f69846736f85f42ab5"></a>
typedef Poco::SharedPtr&lt; <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html">OAuth2CodeExchanger</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a41fbb11d238161f69846736f85f42ab5 inherit pub_types_classBeeeOn_1_1OAuth2CodeExchanger"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1OAuth2UserFetcher"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1OAuth2UserFetcher')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html">BeeeOn::OAuth2UserFetcher</a></td></tr>
<tr class="memitem:a0f0b94b290d2e3e9eb73bd7c72065268 inherit pub_types_classBeeeOn_1_1OAuth2UserFetcher"><td class="memItemLeft" align="right" valign="top"><a id="a0f0b94b290d2e3e9eb73bd7c72065268"></a>
typedef Poco::SharedPtr&lt; <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html">OAuth2UserFetcher</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a0f0b94b290d2e3e9eb73bd7c72065268 inherit pub_types_classBeeeOn_1_1OAuth2UserFetcher"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classBeeeOn_1_1OAuth2CodeExchanger"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classBeeeOn_1_1OAuth2CodeExchanger')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html">BeeeOn::OAuth2CodeExchanger</a></td></tr>
<tr class="memitem:a67ae92d1f59c4e3d5f088abea2d257f5 inherit pub_static_methods_classBeeeOn_1_1OAuth2CodeExchanger"><td class="memItemLeft" align="right" valign="top"><a id="a67ae92d1f59c4e3d5f088abea2d257f5"></a>
static <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">Tokens</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html#a67ae92d1f59c4e3d5f088abea2d257f5">extractTokens</a> (const Poco::JSON::Object::Ptr &amp;body)</td></tr>
<tr class="memdesc:a67ae92d1f59c4e3d5f088abea2d257f5 inherit pub_static_methods_classBeeeOn_1_1OAuth2CodeExchanger"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic extraction of token data out of a body of a (usually) HTTP response encoded in JSON format. <br /></td></tr>
<tr class="separator:a67ae92d1f59c4e3d5f088abea2d257f5 inherit pub_static_methods_classBeeeOn_1_1OAuth2CodeExchanger"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ae93889eade4537aea6abb3f383a8463e"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forMethod</b> (const char *name)</td></tr>
<tr class="separator:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a559c00fe671201e7ee5cebf19706491d"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a99f58cf545bb5550c42fbb75d4645c4a"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplParams" colspan="2"><a id="a9ddc275e696705f0e68a5332d2cd5960"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplItemLeft" align="right" valign="top">static Poco::Logger &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>forInstance</b> (const T *i)</td></tr>
<tr class="separator:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="a5c03d407c8269d8fc9f71f0161ae17ae"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configureSimple</b> (Poco::Logger &amp;logger, const std::string &amp;level)</td></tr>
<tr class="separator:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a id="ad5ab586b4bd8f9f97552e475a008db44"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logException</b> (Poco::Logger &amp;logger, const Poco::Message::Priority priority, const Poco::Exception &amp;e, const char *file, size_t line)</td></tr>
<tr class="separator:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html" title="AbstractOAuth2Provider provides a helper facility to implement support for an OAuth2 authorization me...">AbstractOAuth2Provider</a> provides a helper facility to implement support for an OAuth2 authorization mechanism. It implements the two interfaces <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html" title="OAuth2CodeExchanger provides an interface for obtaining tokens from a token endpoint for the given au...">OAuth2CodeExchanger</a> and <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html" title="OAuth2UserFetcher provides an interface for obtaining user information based on a authorization token...">OAuth2UserFetcher</a> intended to solve the OAuth2 authorization step by step. </p>
<p>Both the <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html#a5e6467225ca4fab969c1a718d863b6a2" title="Exchange the given authorization code for token. ">OAuth2CodeExchanger::exchange()</a> and <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html#a341ae887ddec5ce0647a4c9a56b5fd7d" title="Exchange the given authorization code for token. ">OAuth2UserFetcher::fetch()</a> are generically implemented in a customizable way. The only method to be implemented is <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a4fe97a713efb1bb926bd48335ff9ab68">prepareFetch()</a> if the generic settings fits the target OAuth2 provider's needs. It is however highly recommended to override also <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#abbe4fcc1332e37f70f260286b434ea41">parseTokens()</a> and <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#ae64d9f63a7808479ed8529925e03fb37">parseUserInfo()</a> to handle error messages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0bf97723181209e63dab2cba1c59db61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf97723181209e63dab2cba1c59db61">&#9670;&nbsp;</a></span>clientId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string AbstractOAuth2Provider::clientId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>client ID of the OAuth2. </dd></dl>

<p>Implements <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html#add7f134c5bce895977c7250cdde79074">BeeeOn::OAuth2UserFetcher</a>.</p>

</div>
</div>
<a id="a5d11d605df266dfa67c67ffd3f8e7e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d11d605df266dfa67c67ffd3f8e7e6d">&#9670;&nbsp;</a></span>exchange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> AbstractOAuth2Provider::exchange </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBeeeOn_1_1AuthCodeCredentials.html">AuthCodeCredentials</a> &amp;&#160;</td>
          <td class="paramname"><em>cred</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Exchange the given authorization code for access tokens via a HTTP request. The HTTP request is prepared by calling method <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a3fb16667eb6a1bc786cedbb7ca0ef7c4">prepareExchange()</a> and the response body is processed by <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#abbe4fcc1332e37f70f260286b434ea41">parseTokens()</a>. </p>

<p>Implements <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html#a5e6467225ca4fab969c1a718d863b6a2">BeeeOn::OAuth2CodeExchanger</a>.</p>

</div>
</div>
<a id="afcb98cacbfdc54b3fec532614e185aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb98cacbfdc54b3fec532614e185aaf">&#9670;&nbsp;</a></span>fetch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractOAuth2Provider::fetch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> &amp;&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Poco::Timestamp &amp;&#160;</td>
          <td class="paramname"><em>now</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fetch user info by the given tokens via a HTTP request. Fill the given <a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> instance with appropriate data. The HTTP request is prepared by calling method <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#a4fe97a713efb1bb926bd48335ff9ab68">prepareFetch()</a> and the response body is processed by <a class="el" href="classBeeeOn_1_1AbstractOAuth2Provider.html#ae64d9f63a7808479ed8529925e03fb37">parseUserInfo()</a>.</p>
<p>The <a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> instance <em>MUST</em> contain at least providerID and email otherwise the whole operation is considered as failed. The accessToken field is set automatically. </p>

<p>Implements <a class="el" href="classBeeeOn_1_1OAuth2UserFetcher.html#a341ae887ddec5ce0647a4c9a56b5fd7d">BeeeOn::OAuth2UserFetcher</a>.</p>

</div>
</div>
<a id="abbe4fcc1332e37f70f260286b434ea41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe4fcc1332e37f70f260286b434ea41">&#9670;&nbsp;</a></span>parseTokens()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> AbstractOAuth2Provider::parseTokens </td>
          <td>(</td>
          <td class="paramtype">const Poco::JSON::Object::Ptr&#160;</td>
          <td class="paramname"><em>body</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parse response received while exchanging credentials for tokens. The default implementation (optionally) extracts "access_token", "refresh_token", "id_token", "token_type" and "expires_in" fields. The "token_type" and "expires_in" fields are required. </p>

<p>Reimplemented in <a class="el" href="classBeeeOn_1_1GoogleOAuth2Provider.html#a13d707195cbdbde7cf255d787f51e1ae">BeeeOn::GoogleOAuth2Provider</a>, and <a class="el" href="classBeeeOn_1_1FacebookOAuth2Provider.html#a597e77697d0216c6f84e89f4524a6ade">BeeeOn::FacebookOAuth2Provider</a>.</p>

</div>
</div>
<a id="ae64d9f63a7808479ed8529925e03fb37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64d9f63a7808479ed8529925e03fb37">&#9670;&nbsp;</a></span>parseUserInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractOAuth2Provider::parseUserInfo </td>
          <td>(</td>
          <td class="paramtype">const Poco::JSON::Object::Ptr&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBeeeOn_1_1AuthResult.html">AuthResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parse response received while fetching user info. The default implementation optionally extracts fields "sub", "email", "given_name", "family_name" and "locale". </p>

<p>Reimplemented in <a class="el" href="classBeeeOn_1_1FacebookOAuth2Provider.html#aa3cb9292017a72ed4d44a03b9a917fb7">BeeeOn::FacebookOAuth2Provider</a>, and <a class="el" href="classBeeeOn_1_1GoogleOAuth2Provider.html#a0e09ac35d4c3727df93dc4917ac253aa">BeeeOn::GoogleOAuth2Provider</a>.</p>

</div>
</div>
<a id="a3fb16667eb6a1bc786cedbb7ca0ef7c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb16667eb6a1bc786cedbb7ca0ef7c4">&#9670;&nbsp;</a></span>prepareExchange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractOAuth2Provider::prepareExchange </td>
          <td>(</td>
          <td class="paramtype">Poco::Net::HTMLForm &amp;&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBeeeOn_1_1AuthCodeCredentials.html">AuthCodeCredentials</a> &amp;&#160;</td>
          <td class="paramname"><em>cred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare the given HTMLForm instance for the exchange HTTP request. The default implementation configures fields "code", "redirect_uri", "client_id" and "client_secret". The preselected HTTP encoding is HTMLForm::ENCODING_URL. </p>

<p>Reimplemented in <a class="el" href="classBeeeOn_1_1GoogleOAuth2Provider.html#aa7dc5e315e430043036b14c9059e45f0">BeeeOn::GoogleOAuth2Provider</a>.</p>

</div>
</div>
<a id="a4fe97a713efb1bb926bd48335ff9ab68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe97a713efb1bb926bd48335ff9ab68">&#9670;&nbsp;</a></span>prepareFetch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BeeeOn::AbstractOAuth2Provider::prepareFetch </td>
          <td>(</td>
          <td class="paramtype">Poco::Net::HTMLForm &amp;&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBeeeOn_1_1OAuth2CodeExchanger_1_1Tokens.html">OAuth2CodeExchanger::Tokens</a> &amp;&#160;</td>
          <td class="paramname"><em>tokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare the HTMLForm instance for fetching user info based on the given tokens. As this method highly varies among different providers, there is no default implementation and thus this method must be overriden. </p>

<p>Implemented in <a class="el" href="classBeeeOn_1_1FacebookOAuth2Provider.html#a6618659c60c0185b44a6e60b8255e73f">BeeeOn::FacebookOAuth2Provider</a>, and <a class="el" href="classBeeeOn_1_1GoogleOAuth2Provider.html#a0e817441ca5e1fe901b9fdf555f60d9c">BeeeOn::GoogleOAuth2Provider</a>.</p>

</div>
</div>
<a id="a3a309e0c2f1872221598a97403657a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a309e0c2f1872221598a97403657a64">&#9670;&nbsp;</a></span>redirectUri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string AbstractOAuth2Provider::redirectUri </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>redirect URI of the OAuth2 exchange. </dd></dl>

<p>Implements <a class="el" href="classBeeeOn_1_1OAuth2CodeExchanger.html#af5550e879c045a03bf5561e354d23dd4">BeeeOn::OAuth2CodeExchanger</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/jviki/Projects/BeeeOn/server/src/oauth2/<a class="el" href="AbstractOAuth2Provider_8h_source.html">AbstractOAuth2Provider.h</a></li>
<li>/home/jviki/Projects/BeeeOn/server/src/oauth2/AbstractOAuth2Provider.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
