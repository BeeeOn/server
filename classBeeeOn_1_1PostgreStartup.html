<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeeeOn Server: BeeeOn::PostgreStartup Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Server
   &#160;<span id="projectnumber">v2018.11.1</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1PostgreStartup.html">PostgreStartup</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::PostgreStartup Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classBeeeOn_1_1PostgreStartup.html" title="PostgreStartup can start a PostgreSQL instance and initialize a new clean database named &#39;postgres&#39;...">PostgreStartup</a> can start a PostgreSQL instance and initialize a new clean database named 'postgres'. This is useful especially for testing to avoid any complexity when creating a private temporary databases.  
 <a href="classBeeeOn_1_1PostgreStartup.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="PostgreStartup_8h_source.html">PostgreStartup.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::PostgreStartup:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1PostgreStartup.png" usemap="#BeeeOn::PostgreStartup_map" alt=""/>
  <map id="BeeeOn::PostgreStartup_map" name="BeeeOn::PostgreStartup_map">
<area href="classBeeeOn_1_1StoppableLoop.html" alt="BeeeOn::StoppableLoop" shape="rect" coords="0,0,148,24"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="158,0,306,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a372fa95fdda53b84a3789835526d40bc"><td class="memItemLeft" align="right" valign="top"><a id="a372fa95fdda53b84a3789835526d40bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a372fa95fdda53b84a3789835526d40bc">setPostgresBin</a> (const std::string &amp;file)</td></tr>
<tr class="memdesc:a372fa95fdda53b84a3789835526d40bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure path to the 'postgres' binary. <br /></td></tr>
<tr class="separator:a372fa95fdda53b84a3789835526d40bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3ea710f49c7cf5b7cc8cbac2f9584e"><td class="memItemLeft" align="right" valign="top"><a id="a1d3ea710f49c7cf5b7cc8cbac2f9584e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a1d3ea710f49c7cf5b7cc8cbac2f9584e">setInitdbBin</a> (const std::string &amp;file)</td></tr>
<tr class="memdesc:a1d3ea710f49c7cf5b7cc8cbac2f9584e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure path to the 'initdb' binary. <br /></td></tr>
<tr class="separator:a1d3ea710f49c7cf5b7cc8cbac2f9584e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ce438609f6a7a544bdf259c9dd6f62"><td class="memItemLeft" align="right" valign="top"><a id="af2ce438609f6a7a544bdf259c9dd6f62"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#af2ce438609f6a7a544bdf259c9dd6f62">setHost</a> (const std::string &amp;host)</td></tr>
<tr class="memdesc:af2ce438609f6a7a544bdf259c9dd6f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure host to listen on (default '127.0.0.1'). <br /></td></tr>
<tr class="separator:af2ce438609f6a7a544bdf259c9dd6f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6826d09b5ac80d9ef8e14268c6ea47"><td class="memItemLeft" align="right" valign="top"><a id="aad6826d09b5ac80d9ef8e14268c6ea47"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#aad6826d09b5ac80d9ef8e14268c6ea47">setPort</a> (const int port)</td></tr>
<tr class="memdesc:aad6826d09b5ac80d9ef8e14268c6ea47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure port to listen on (default 54320). <br /></td></tr>
<tr class="separator:aad6826d09b5ac80d9ef8e14268c6ea47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae097e781e4666af2a9d7c35474f65297"><td class="memItemLeft" align="right" valign="top"><a id="ae097e781e4666af2a9d7c35474f65297"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#ae097e781e4666af2a9d7c35474f65297">setClusterDir</a> (const std::string &amp;dir)</td></tr>
<tr class="memdesc:ae097e781e4666af2a9d7c35474f65297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure directory with the cluster. There might be an existing database or a temporary one might be created. <br /></td></tr>
<tr class="separator:ae097e781e4666af2a9d7c35474f65297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2430e5d7b161426c3b8f5744a6de2747"><td class="memItemLeft" align="right" valign="top"><a id="a2430e5d7b161426c3b8f5744a6de2747"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a2430e5d7b161426c3b8f5744a6de2747">setClusterInit</a> (bool init)</td></tr>
<tr class="memdesc:a2430e5d7b161426c3b8f5744a6de2747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure <a class="el" href="classBeeeOn_1_1PostgreStartup.html" title="PostgreStartup can start a PostgreSQL instance and initialize a new clean database named &#39;postgres&#39;...">PostgreStartup</a> to initialize the cluster by initdb. This might destroy any databases in an existing cluster. If enabled, the cluster is deleted automatically on clean up. Otherwise, the cluster is left untouched there. <br /></td></tr>
<tr class="separator:a2430e5d7b161426c3b8f5744a6de2747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474ae0fa9156589d7cdddb68a75185b5"><td class="memItemLeft" align="right" valign="top"><a id="a474ae0fa9156589d7cdddb68a75185b5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a474ae0fa9156589d7cdddb68a75185b5">setStopTimeout</a> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="memdesc:a474ae0fa9156589d7cdddb68a75185b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure timeout used while waiting for the 'postgres' process to exit after termination request. <br /></td></tr>
<tr class="separator:a474ae0fa9156589d7cdddb68a75185b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64dd731e0f8541dcd87aa049c0efcced"><td class="memItemLeft" align="right" valign="top"><a id="a64dd731e0f8541dcd87aa049c0efcced"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a64dd731e0f8541dcd87aa049c0efcced">initdb</a> ()</td></tr>
<tr class="memdesc:a64dd731e0f8541dcd87aa049c0efcced"><td class="mdescLeft">&#160;</td><td class="mdescRight">If clusterInit is true, this method calls initdb to initialize a temporary database cluster. <br /></td></tr>
<tr class="separator:a64dd731e0f8541dcd87aa049c0efcced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3042f1a66affe8bc87a7254c5e45f05c"><td class="memItemLeft" align="right" valign="top"><a id="a3042f1a66affe8bc87a7254c5e45f05c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a3042f1a66affe8bc87a7254c5e45f05c">deletedb</a> ()</td></tr>
<tr class="memdesc:a3042f1a66affe8bc87a7254c5e45f05c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If clusterInit is true, this method removes the temporary database cluster on hook 'cleanup'. <br /></td></tr>
<tr class="separator:a3042f1a66affe8bc87a7254c5e45f05c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d28b285647aa8b1c7313f8b180acf0a"><td class="memItemLeft" align="right" valign="top"><a id="a2d28b285647aa8b1c7313f8b180acf0a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a2d28b285647aa8b1c7313f8b180acf0a">start</a> () override</td></tr>
<tr class="memdesc:a2d28b285647aa8b1c7313f8b180acf0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the 'postgres' program on the configured cluster. <br /></td></tr>
<tr class="separator:a2d28b285647aa8b1c7313f8b180acf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037b4cd70305840a512eb71d434bea5a"><td class="memItemLeft" align="right" valign="top"><a id="a037b4cd70305840a512eb71d434bea5a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#a037b4cd70305840a512eb71d434bea5a">stop</a> () override</td></tr>
<tr class="memdesc:a037b4cd70305840a512eb71d434bea5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the 'postgres' process. <br /></td></tr>
<tr class="separator:a037b4cd70305840a512eb71d434bea5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab96a900f36a74f3944f6657cbdb23f31"><td class="memItemLeft" align="right" valign="top"><a id="ab96a900f36a74f3944f6657cbdb23f31"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1PostgreStartup.html#ab96a900f36a74f3944f6657cbdb23f31">grabPerr</a> ()</td></tr>
<tr class="memdesc:ab96a900f36a74f3944f6657cbdb23f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab process stderr stream and log it via the standard logger. <br /></td></tr>
<tr class="separator:ab96a900f36a74f3944f6657cbdb23f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17eed778316bfdff51f48f681a8b052"><td class="memItemLeft" align="right" valign="top"><a id="ad17eed778316bfdff51f48f681a8b052"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>grab</b> (Poco::Pipe pipe, Poco::Process::PID pid) const</td></tr>
<tr class="separator:ad17eed778316bfdff51f48f681a8b052"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1StoppableLoop"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1StoppableLoop')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1StoppableLoop.html">BeeeOn::StoppableLoop</a></td></tr>
<tr class="memitem:a7a0b9a5da3cff3f1d6485c0e6517e343 inherit pub_types_classBeeeOn_1_1StoppableLoop"><td class="memItemLeft" align="right" valign="top"><a id="a7a0b9a5da3cff3f1d6485c0e6517e343"></a>
typedef Poco::SharedPtr&lt; <a class="el" href="classBeeeOn_1_1StoppableLoop.html">StoppableLoop</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a7a0b9a5da3cff3f1d6485c0e6517e343 inherit pub_types_classBeeeOn_1_1StoppableLoop"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classBeeeOn_1_1PostgreStartup.html" title="PostgreStartup can start a PostgreSQL instance and initialize a new clean database named &#39;postgres&#39;...">PostgreStartup</a> can start a PostgreSQL instance and initialize a new clean database named 'postgres'. This is useful especially for testing to avoid any complexity when creating a private temporary databases. </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/jviki/Projects/BeeeOn/server/src/pg/<a class="el" href="PostgreStartup_8h_source.html">PostgreStartup.h</a></li>
<li>/home/jviki/Projects/BeeeOn/server/src/pg/PostgreStartup.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
